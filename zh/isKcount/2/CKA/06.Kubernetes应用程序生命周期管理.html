<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://isKcount/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html"><meta property="og:site_name" content="æ–‡æ¡£æ¼”ç¤º"><meta property="og:title" content="Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-11T05:08:11.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2022-01-22T12:12:04.000Z"><meta property="article:modified_time" content="2022-10-11T05:08:11.000Z"><link rel="icon" href="/cicd/favicon.ico"><link rel="icon" href="/cicd/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/cicd/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/cicd/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/cicd/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/cicd/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/cicd/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/cicd/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç† | æ–‡æ¡£æ¼”ç¤º</title><meta name="description" content="vuepress-theme-hope çš„æ–‡æ¡£æ¼”ç¤º">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/cicd/assets/style.b0cf8135.css">
    <link rel="modulepreload" href="/cicd/assets/app.4cf02e25.js"><link rel="modulepreload" href="/cicd/assets/06.Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†.html.200ffb58.js"><link rel="modulepreload" href="/cicd/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/cicd/assets/06.Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†.html.e31aed57.js"><link rel="prefetch" href="/cicd/assets/index.html.afb960cd.js"><link rel="prefetch" href="/cicd/assets/slides.html.75632ce0.js"><link rel="prefetch" href="/cicd/assets/disable.html.69aa87b2.js"><link rel="prefetch" href="/cicd/assets/encrypt.html.b6670895.js"><link rel="prefetch" href="/cicd/assets/markdown.html.b609aecf.js"><link rel="prefetch" href="/cicd/assets/page.html.54ab5bbb.js"><link rel="prefetch" href="/cicd/assets/index.html.45befc19.js"><link rel="prefetch" href="/cicd/assets/index.html.35bc4860.js"><link rel="prefetch" href="/cicd/assets/index.html.0bac633c.js"><link rel="prefetch" href="/cicd/assets/index.html.d697902a.js"><link rel="prefetch" href="/cicd/assets/baz.html.5f57b04e.js"><link rel="prefetch" href="/cicd/assets/index.html.6a953184.js"><link rel="prefetch" href="/cicd/assets/ray.html.e211c123.js"><link rel="prefetch" href="/cicd/assets/index.html.30154021.js"><link rel="prefetch" href="/cicd/assets/kaifa.html.1bb6461e.js"><link rel="prefetch" href="/cicd/assets/qukuailian.html.555b2023.js"><link rel="prefetch" href="/cicd/assets/index.html.430b7fe5.js"><link rel="prefetch" href="/cicd/assets/yunwei.html.64158b4e.js"><link rel="prefetch" href="/cicd/assets/CKA.html.0957d054.js"><link rel="prefetch" href="/cicd/assets/CKS.html.bd413494.js"><link rel="prefetch" href="/cicd/assets/index.html.ceda1bd4.js"><link rel="prefetch" href="/cicd/assets/è½¯ä»¶è®¾è®¡å¸ˆ.html.c5d81eaa.js"><link rel="prefetch" href="/cicd/assets/Goå¼€å‘.html.9a880fcf.js"><link rel="prefetch" href="/cicd/assets/Javaå¼€å‘.html.d877b9be.js"><link rel="prefetch" href="/cicd/assets/index.html.4068cd31.js"><link rel="prefetch" href="/cicd/assets/Ajax.html.dd9a85f6.js"><link rel="prefetch" href="/cicd/assets/CSS3.html.91a2e19a.js"><link rel="prefetch" href="/cicd/assets/HTML5.html.d4b38488.js"><link rel="prefetch" href="/cicd/assets/JavaScript DOM.html.9eaa65d5.js"><link rel="prefetch" href="/cicd/assets/JavaScriptå¼€ç¯‡.html.f60fb2e1.js"><link rel="prefetch" href="/cicd/assets/JavaScripté¢å‘å¯¹è±¡.html.da218289.js"><link rel="prefetch" href="/cicd/assets/JQuery.html.ae656a54.js"><link rel="prefetch" href="/cicd/assets/index.html.4e9fd026.js"><link rel="prefetch" href="/cicd/assets/Vue.html.3596c5e3.js"><link rel="prefetch" href="/cicd/assets/1.Gitlab-CIå…¥é—¨é…ç½®.html.8757c890.js"><link rel="prefetch" href="/cicd/assets/2.Gitlab-Runerè¿æ¥K8S.html.ceb7ae20.js"><link rel="prefetch" href="/cicd/assets/3.GitLab-CI _ Harbor _ Kubernetes.html.b7ec02df.js"><link rel="prefetch" href="/cicd/assets/4.Gitea_K8s-Jenkins-master-slave(webhooké’©å­).html.01e740cd.js"><link rel="prefetch" href="/cicd/assets/index.html.080ddb9c.js"><link rel="prefetch" href="/cicd/assets/1.Istioæ¦‚è¿°.html.9ddaefd7.js"><link rel="prefetch" href="/cicd/assets/2.Istioå®‰è£….html.0bd57f85.js"><link rel="prefetch" href="/cicd/assets/3.Istioçš„æ·±å…¥æµ….html.aff1e3cf.js"><link rel="prefetch" href="/cicd/assets/4.Istioç»ƒä¹ é¢˜.html.8fd3b51c.js"><link rel="prefetch" href="/cicd/assets/index.html.293eb095.js"><link rel="prefetch" href="/cicd/assets/1.æ·±å…¥ç†è§£Operator.html.1f267c48.js"><link rel="prefetch" href="/cicd/assets/2.RESTclientåŸç†.html.18487112.js"><link rel="prefetch" href="/cicd/assets/3.è®¿é—®Kubernetes API.html.da101cae.js"><link rel="prefetch" href="/cicd/assets/4.ä¸€æ–‡ææ‡‚CRD.html.392b012e.js"><link rel="prefetch" href="/cicd/assets/index.html.0f03a0a3.js"><link rel="prefetch" href="/cicd/assets/1.å¸¸ç”¨Gitå‘½ä»¤æ¸…å•.html.2cb1df75.js"><link rel="prefetch" href="/cicd/assets/10.Gitåˆ†æ”¯-å˜åŸº.html.b947479b.js"><link rel="prefetch" href="/cicd/assets/11.Gitå·¥å…·-æŸ¥çœ‹ä¿®è®¢ç‰ˆæœ¬.html.10aa9bfe.js"><link rel="prefetch" href="/cicd/assets/12.Gitå·¥å…·-äº¤äº’å¼æš‚å­˜.html.48884ded.js"><link rel="prefetch" href="/cicd/assets/13.Gitå·¥å…·-é‡å†™å†å².html.5d5eaa80.js"><link rel="prefetch" href="/cicd/assets/14.Gitå·¥å…·-é‡ç½®æ­å¯†.html.6633ce8a.js"><link rel="prefetch" href="/cicd/assets/2.Gitå˜åŸºåˆå¹¶.html.fa3da0d8.js"><link rel="prefetch" href="/cicd/assets/3.Gitå‘½ä»¤æ€ç»´å¯¼å›¾.html.15c6e161.js"><link rel="prefetch" href="/cicd/assets/4.GitåŸºç¡€ä¸å‘½ä»¤.html.73f55f94.js"><link rel="prefetch" href="/cicd/assets/5.Gitåˆ†æ”¯-åˆ†æ”¯åŸç†.html.3ec450a8.js"><link rel="prefetch" href="/cicd/assets/6.Gitåˆ†æ”¯çš„æ–°å»ºä¸åˆå¹¶-åˆ†æ”¯æ“ä½œ.html.014f3285.js"><link rel="prefetch" href="/cicd/assets/7.Gitåˆ†æ”¯ç®¡ç†-æŸ¥çœ‹åˆ†æ”¯.html.675bcb4c.js"><link rel="prefetch" href="/cicd/assets/8.Gitåˆ†æ”¯å¼€å‘å·¥ä½œæµ.html.d8b4cc3b.js"><link rel="prefetch" href="/cicd/assets/9.Gitåˆ†æ”¯-è¿œç¨‹åˆ†æ”¯.html.84949e28.js"><link rel="prefetch" href="/cicd/assets/index.html.600de791.js"><link rel="prefetch" href="/cicd/assets/01.åˆè¯†Kubernetes.html.eaa4f1ed.js"><link rel="prefetch" href="/cicd/assets/02.Kuberneteséƒ¨ç½².html.87861ae6.js"><link rel="prefetch" href="/cicd/assets/03.Containerdæ­å»ºKubernets.html.bc40478f.js"><link rel="prefetch" href="/cicd/assets/04.kubernetesåŸºæœ¬æ“ä½œ.html.7561f03f.js"><link rel="prefetch" href="/cicd/assets/05.Kubernetesç›‘æ§ä¸æ—¥å¿—ç®¡ç†.html.b39e53f4.js"><link rel="prefetch" href="/cicd/assets/07.Kubernetesè°ƒåº¦.html.78a978fa.js"><link rel="prefetch" href="/cicd/assets/08.Kubernetesç½‘ç»œ.html.cde7916b.js"><link rel="prefetch" href="/cicd/assets/09.Kuberneteså­˜å‚¨.html.a76219a7.js"><link rel="prefetch" href="/cicd/assets/10.Kuberneteså®‰å…¨.html.a097f54b.js"><link rel="prefetch" href="/cicd/assets/11.Kubernetesé›†ç¾¤ç»´æŠ¤.html.d71c9de0.js"><link rel="prefetch" href="/cicd/assets/12.Kubernetesé›†ç¾¤æ•…éšœæ’æŸ¥.html.8c63d7cb.js"><link rel="prefetch" href="/cicd/assets/13.Helm.html.9b520a1c.js"><link rel="prefetch" href="/cicd/assets/14.é«˜çº§è¿ç»´.html.6fd84512.js"><link rel="prefetch" href="/cicd/assets/15.NFSåšK8Såç«¯å­˜å‚¨.html.fad20088.js"><link rel="prefetch" href="/cicd/assets/16.Glusterfså¯¹æ¥K8S.html.ed2e5510.js"><link rel="prefetch" href="/cicd/assets/17.Cephå¯¹æ¥K8Så­˜å‚¨(RBD).html.5e02a595.js"><link rel="prefetch" href="/cicd/assets/18.Rookæ„å»ºCephäº‘åŸç”Ÿå­˜å‚¨.html.9ba766b8.js"><link rel="prefetch" href="/cicd/assets/19.Kubectlå¤šé›†ç¾¤é…ç½®.html.33834959.js"><link rel="prefetch" href="/cicd/assets/20.ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹é¢„ç•™è®¡ç®—èµ„æº.html.8e9298af.js"><link rel="prefetch" href="/cicd/assets/21.Helmæ­å»ºEFKæ—¥å¿—ç³»ç»Ÿ.html.4edbf6a4.js"><link rel="prefetch" href="/cicd/assets/22.Kubernetesçš„client-Python.html.c60456d9.js"><link rel="prefetch" href="/cicd/assets/23.kubectlå‘½ä»¤.html.8b18dbe9.js"><link rel="prefetch" href="/cicd/assets/01.é›†ç¾¤éƒ¨ç½²ä¸å®‰å…¨é…ç½®.html.b6b4f70f.js"><link rel="prefetch" href="/cicd/assets/02.é›†ç¾¤å¼ºåŒ–.html.fad18f43.js"><link rel="prefetch" href="/cicd/assets/03.å®¹å™¨è¿è¡Œç¯å¢ƒå®‰å…¨åŠ å›º.html.053ca706.js"><link rel="prefetch" href="/cicd/assets/04.æœ€å°åŒ–å¾®æœåŠ¡æ¼æ´.html.7b3b9ade.js"><link rel="prefetch" href="/cicd/assets/05.ä¾›åº”é“¾å®‰å…¨.html.a0900434.js"><link rel="prefetch" href="/cicd/assets/06.ç›‘æ§ã€å®¡è®¡å’Œè¿è¡Œæ—¶å®‰å…¨.html.7e2ba24b.js"><link rel="prefetch" href="/cicd/assets/index.html.c616b064.js"><link rel="prefetch" href="/cicd/assets/index.html.15eb079a.js"><link rel="prefetch" href="/cicd/assets/index.html.94ea93f5.js"><link rel="prefetch" href="/cicd/assets/index.html.079b2772.js"><link rel="prefetch" href="/cicd/assets/index.html.df3f4c13.js"><link rel="prefetch" href="/cicd/assets/index.html.0e6fd612.js"><link rel="prefetch" href="/cicd/assets/01.Cephéƒ¨ç½².html.c7edc1a7.js"><link rel="prefetch" href="/cicd/assets/01.Elasticsearchæ•™ç¨‹.html.c70bc6f4.js"><link rel="prefetch" href="/cicd/assets/02.SpringBootæ•´åˆES.html.58d48662.js"><link rel="prefetch" href="/cicd/assets/01.NginxåŸºç¡€.html.cf2f1274.js"><link rel="prefetch" href="/cicd/assets/02.Nginxåå‘ä»£ç†.html.5c1d75f4.js"><link rel="prefetch" href="/cicd/assets/03.Nginxè´Ÿè½½å‡è¡¡.html.01375d35.js"><link rel="prefetch" href="/cicd/assets/04.NginxåŠ¨é™åˆ†ç¦».html.567ee358.js"><link rel="prefetch" href="/cicd/assets/05.Nginxé«˜å¯ç”¨.html.e6a3ddc7.js"><link rel="prefetch" href="/cicd/assets/01.MySQLå®‰è£….html.a857908f.js"><link rel="prefetch" href="/cicd/assets/02.MySQLæ¦‚è¿°.html.215c677f.js"><link rel="prefetch" href="/cicd/assets/03.MySQLçš„SQLè¯¦è§£.html.b436424d.js"><link rel="prefetch" href="/cicd/assets/04.MySQLçš„å‡½æ•°.html.f2d51481.js"><link rel="prefetch" href="/cicd/assets/05.MySQLçš„çº¦æŸ.html.bad191da.js"><link rel="prefetch" href="/cicd/assets/06.MySQLå¤šè¡¨æŸ¥è¯¢.html.36361e11.js"><link rel="prefetch" href="/cicd/assets/07.MySQLçš„äº‹åŠ¡.html.9cb08bc8.js"><link rel="prefetch" href="/cicd/assets/08.MySQLç´¢å¼•.html.a88e7348.js"><link rel="prefetch" href="/cicd/assets/01.Redisè¯¦è§£.html.74500c58.js"><link rel="prefetch" href="/cicd/assets/02.SpringBootæ•´åˆRedis.html.469f0ecc.js"><link rel="prefetch" href="/cicd/assets/1.html.51ad6998.js"><link rel="prefetch" href="/cicd/assets/10.html.9f9ea17a.js"><link rel="prefetch" href="/cicd/assets/2.html.b10c281c.js"><link rel="prefetch" href="/cicd/assets/3.html.e9f1871a.js"><link rel="prefetch" href="/cicd/assets/4.html.1fff6eef.js"><link rel="prefetch" href="/cicd/assets/5.html.97811964.js"><link rel="prefetch" href="/cicd/assets/6.html.8b926579.js"><link rel="prefetch" href="/cicd/assets/7.html.46240a78.js"><link rel="prefetch" href="/cicd/assets/8.html.8a1b2295.js"><link rel="prefetch" href="/cicd/assets/9.html.4409806f.js"><link rel="prefetch" href="/cicd/assets/1.html.9af07abf.js"><link rel="prefetch" href="/cicd/assets/2.html.2fcadf0b.js"><link rel="prefetch" href="/cicd/assets/3.html.f030d923.js"><link rel="prefetch" href="/cicd/assets/4.html.470bb9d1.js"><link rel="prefetch" href="/cicd/assets/5.html.f01a11dd.js"><link rel="prefetch" href="/cicd/assets/6.html.8186092c.js"><link rel="prefetch" href="/cicd/assets/7.html.6fc24329.js"><link rel="prefetch" href="/cicd/assets/8.html.10ead5f0.js"><link rel="prefetch" href="/cicd/assets/9.html.41d3dbca.js"><link rel="prefetch" href="/cicd/assets/10.html.4cebe03d.js"><link rel="prefetch" href="/cicd/assets/11.html.8f240263.js"><link rel="prefetch" href="/cicd/assets/2.html.5569587e.js"><link rel="prefetch" href="/cicd/assets/3.html.9a65d44c.js"><link rel="prefetch" href="/cicd/assets/4.html.75bbb016.js"><link rel="prefetch" href="/cicd/assets/5.html.d4539629.js"><link rel="prefetch" href="/cicd/assets/6.html.36bd59fc.js"><link rel="prefetch" href="/cicd/assets/7.html.4486fb3b.js"><link rel="prefetch" href="/cicd/assets/8.html.0197b422.js"><link rel="prefetch" href="/cicd/assets/9.html.6884113c.js"><link rel="prefetch" href="/cicd/assets/awk.html.f6d4fea2.js"><link rel="prefetch" href="/cicd/assets/01.Javaç¯å¢ƒé…ç½®.html.9a82b76a.js"><link rel="prefetch" href="/cicd/assets/02.JavaåŸºç¡€æ¦‚å¿µ.html.371f29d8.js"><link rel="prefetch" href="/cicd/assets/03.Javaè¿ç®—ç¬¦.html.aaf325c2.js"><link rel="prefetch" href="/cicd/assets/04.Javaå¾ªç¯å’Œåˆ¤æ–­.html.167b49db.js"><link rel="prefetch" href="/cicd/assets/05.Javaå¾ªç¯é«˜çº§å’Œæ•°ç»„.html.ee86ed78.js"><link rel="prefetch" href="/cicd/assets/06.Javaæ–¹æ³•.html.b0098a64.js"><link rel="prefetch" href="/cicd/assets/07.Javaé¢å‘å¯¹è±¡.html.3e5a2e10.js"><link rel="prefetch" href="/cicd/assets/08.Javaå­—ç¬¦ä¸².html.226000a4.js"><link rel="prefetch" href="/cicd/assets/00.Javaé¢å¯¹å¯¹è±¡è¿›é˜¶.html.89001477.js"><link rel="prefetch" href="/cicd/assets/01.æ—¥æœŸå’Œæ—¶é—´.html.1fa0d266.js"><link rel="prefetch" href="/cicd/assets/02.æ­£åˆ™è¡¨è¾¾å¼.html.692fb7f2.js"><link rel="prefetch" href="/cicd/assets/03.é›†åˆ.html.7aef52e6.js"><link rel="prefetch" href="/cicd/assets/04.Streamæµ.html.22c04447.js"><link rel="prefetch" href="/cicd/assets/05.å¼‚å¸¸å¤„ç†.html.0bcfd771.js"><link rel="prefetch" href="/cicd/assets/06.æ—¥å¿—æ¡†æ¶.html.7c3b687d.js"><link rel="prefetch" href="/cicd/assets/07.Fileç±»ã€IOæµ.html.95b3fdca.js"><link rel="prefetch" href="/cicd/assets/08.IOæµè¿›é˜¶.html.b0ff2a19.js"><link rel="prefetch" href="/cicd/assets/09.å¤šçº¿ç¨‹.html.36474e00.js"><link rel="prefetch" href="/cicd/assets/10.ç½‘ç»œç¼–ç¨‹.html.00117829.js"><link rel="prefetch" href="/cicd/assets/11.å•å…ƒæµ‹è¯•å’Œåå°„.html.0c2e7d58.js"><link rel="prefetch" href="/cicd/assets/12.æ³¨è§£å’ŒåŠ¨æ€ä»£ç†.html.3f4f6fc8.js"><link rel="prefetch" href="/cicd/assets/13.XMLå’Œè®¾è®¡æ¨¡å¼.html.15865193.js"><link rel="prefetch" href="/cicd/assets/01.SpringBootå¿«é€Ÿå…¥é—¨.html.36346b67.js"><link rel="prefetch" href="/cicd/assets/02.SpringBooté…ç½®æ–‡ä»¶.html.faa01534.js"><link rel="prefetch" href="/cicd/assets/03.æ•´åˆJunitå’ŒMybatis.html.8df025df.js"><link rel="prefetch" href="/cicd/assets/04.SpringBootæ—¥å¿—.html.0753c3c2.js"><link rel="prefetch" href="/cicd/assets/05.SpringBootå¸¸ç”¨æ³¨è§£.html.60025afe.js"><link rel="prefetch" href="/cicd/assets/06.SpringBootå¼€å‘é…ç½®.html.d06a3ecf.js"><link rel="prefetch" href="/cicd/assets/07.SpringBootæ•°æ®å±‚æ–¹æ¡ˆ.html.7249472a.js"><link rel="prefetch" href="/cicd/assets/08.SpringBootæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯.html.99e6c044.js"><link rel="prefetch" href="/cicd/assets/01.Springçš„IoCå’ŒDI.html.a9b2e188.js"><link rel="prefetch" href="/cicd/assets/02.IoCå’ŒDIæ³¨è§£å¼€å‘.html.d0c453d8.js"><link rel="prefetch" href="/cicd/assets/03.Springçš„MVCå…¥é—¨.html.5697eb9d.js"><link rel="prefetch" href="/cicd/assets/04.SpringMVCçš„è¯·æ±‚å’Œå“åº”.html.5c7a7c1c.js"><link rel="prefetch" href="/cicd/assets/05.Springæ•´åˆJdbc.html.9902e59c.js"><link rel="prefetch" href="/cicd/assets/06.SpringMVCé¡¹ç›®çš„å¸¸ç”¨é…ç½®.html.df7d7078.js"><link rel="prefetch" href="/cicd/assets/07.SpringMVCæ‹¦æˆªå™¨.html.a7993a74.js"><link rel="prefetch" href="/cicd/assets/08.Springçš„å¼‚å¸¸å¤„ç†.html.ec7b0c4b.js"><link rel="prefetch" href="/cicd/assets/09.Springçš„AOP.html.ee2e4e31.js"><link rel="prefetch" href="/cicd/assets/10.Springçš„äº‹åŠ¡ç®¡ç†.html.e0ef8186.js"><link rel="prefetch" href="/cicd/assets/11.Mybatiså…¥é—¨.html.a9e5f73e.js"><link rel="prefetch" href="/cicd/assets/12.Mybatiså¤šè¡¨æŸ¥è¯¢.html.a4eb2c6e.js"><link rel="prefetch" href="/cicd/assets/13.Mybatisæ³¨è§£å¼€å‘.html.0724863a.js"><link rel="prefetch" href="/cicd/assets/14.MyBatisPlus.html.3ee508f1.js"><link rel="prefetch" href="/cicd/assets/404.html.982bee40.js"><link rel="prefetch" href="/cicd/assets/index.html.a2a1c31f.js"><link rel="prefetch" href="/cicd/assets/slides.html.6bbddf5e.js"><link rel="prefetch" href="/cicd/assets/disable.html.95e3aa74.js"><link rel="prefetch" href="/cicd/assets/encrypt.html.be1cd07d.js"><link rel="prefetch" href="/cicd/assets/markdown.html.07291620.js"><link rel="prefetch" href="/cicd/assets/page.html.efe64bc0.js"><link rel="prefetch" href="/cicd/assets/index.html.6daa34f0.js"><link rel="prefetch" href="/cicd/assets/index.html.13b82c1e.js"><link rel="prefetch" href="/cicd/assets/index.html.62d9f295.js"><link rel="prefetch" href="/cicd/assets/index.html.cdece030.js"><link rel="prefetch" href="/cicd/assets/baz.html.71f6f9c1.js"><link rel="prefetch" href="/cicd/assets/index.html.3c998f77.js"><link rel="prefetch" href="/cicd/assets/ray.html.c0ffbf8e.js"><link rel="prefetch" href="/cicd/assets/index.html.b9c72545.js"><link rel="prefetch" href="/cicd/assets/kaifa.html.e4e427e1.js"><link rel="prefetch" href="/cicd/assets/qukuailian.html.3a3f9161.js"><link rel="prefetch" href="/cicd/assets/index.html.4a3f7919.js"><link rel="prefetch" href="/cicd/assets/yunwei.html.b80da8e6.js"><link rel="prefetch" href="/cicd/assets/CKA.html.4fa6fe9b.js"><link rel="prefetch" href="/cicd/assets/CKS.html.70dc4199.js"><link rel="prefetch" href="/cicd/assets/index.html.22cb33eb.js"><link rel="prefetch" href="/cicd/assets/è½¯ä»¶è®¾è®¡å¸ˆ.html.acd3b108.js"><link rel="prefetch" href="/cicd/assets/Goå¼€å‘.html.0260ea94.js"><link rel="prefetch" href="/cicd/assets/Javaå¼€å‘.html.05229914.js"><link rel="prefetch" href="/cicd/assets/index.html.45da941e.js"><link rel="prefetch" href="/cicd/assets/Ajax.html.65ada00f.js"><link rel="prefetch" href="/cicd/assets/CSS3.html.a56db5bd.js"><link rel="prefetch" href="/cicd/assets/HTML5.html.178971c0.js"><link rel="prefetch" href="/cicd/assets/JavaScript DOM.html.4e057b6a.js"><link rel="prefetch" href="/cicd/assets/JavaScriptå¼€ç¯‡.html.e94d748e.js"><link rel="prefetch" href="/cicd/assets/JavaScripté¢å‘å¯¹è±¡.html.88b3d982.js"><link rel="prefetch" href="/cicd/assets/JQuery.html.8057b349.js"><link rel="prefetch" href="/cicd/assets/index.html.a6892502.js"><link rel="prefetch" href="/cicd/assets/Vue.html.64efef8c.js"><link rel="prefetch" href="/cicd/assets/1.Gitlab-CIå…¥é—¨é…ç½®.html.843f6524.js"><link rel="prefetch" href="/cicd/assets/2.Gitlab-Runerè¿æ¥K8S.html.94571695.js"><link rel="prefetch" href="/cicd/assets/3.GitLab-CI _ Harbor _ Kubernetes.html.62744790.js"><link rel="prefetch" href="/cicd/assets/4.Gitea_K8s-Jenkins-master-slave(webhooké’©å­).html.fb8fbb35.js"><link rel="prefetch" href="/cicd/assets/index.html.240d8ec8.js"><link rel="prefetch" href="/cicd/assets/1.Istioæ¦‚è¿°.html.0b22cafd.js"><link rel="prefetch" href="/cicd/assets/2.Istioå®‰è£….html.f6f954c2.js"><link rel="prefetch" href="/cicd/assets/3.Istioçš„æ·±å…¥æµ….html.d60ecce2.js"><link rel="prefetch" href="/cicd/assets/4.Istioç»ƒä¹ é¢˜.html.e13d5263.js"><link rel="prefetch" href="/cicd/assets/index.html.e513eb42.js"><link rel="prefetch" href="/cicd/assets/1.æ·±å…¥ç†è§£Operator.html.f92497be.js"><link rel="prefetch" href="/cicd/assets/2.RESTclientåŸç†.html.e8ff63dd.js"><link rel="prefetch" href="/cicd/assets/3.è®¿é—®Kubernetes API.html.4e49043e.js"><link rel="prefetch" href="/cicd/assets/4.ä¸€æ–‡ææ‡‚CRD.html.76a67cd5.js"><link rel="prefetch" href="/cicd/assets/index.html.6a4fd79e.js"><link rel="prefetch" href="/cicd/assets/1.å¸¸ç”¨Gitå‘½ä»¤æ¸…å•.html.7ff17fa9.js"><link rel="prefetch" href="/cicd/assets/10.Gitåˆ†æ”¯-å˜åŸº.html.d9d5fc96.js"><link rel="prefetch" href="/cicd/assets/11.Gitå·¥å…·-æŸ¥çœ‹ä¿®è®¢ç‰ˆæœ¬.html.ea0c9522.js"><link rel="prefetch" href="/cicd/assets/12.Gitå·¥å…·-äº¤äº’å¼æš‚å­˜.html.71a1ebc3.js"><link rel="prefetch" href="/cicd/assets/13.Gitå·¥å…·-é‡å†™å†å².html.de8b88f9.js"><link rel="prefetch" href="/cicd/assets/14.Gitå·¥å…·-é‡ç½®æ­å¯†.html.3cd77c28.js"><link rel="prefetch" href="/cicd/assets/2.Gitå˜åŸºåˆå¹¶.html.213a717c.js"><link rel="prefetch" href="/cicd/assets/3.Gitå‘½ä»¤æ€ç»´å¯¼å›¾.html.038c27f5.js"><link rel="prefetch" href="/cicd/assets/4.GitåŸºç¡€ä¸å‘½ä»¤.html.60ed1571.js"><link rel="prefetch" href="/cicd/assets/5.Gitåˆ†æ”¯-åˆ†æ”¯åŸç†.html.b6cdc2db.js"><link rel="prefetch" href="/cicd/assets/6.Gitåˆ†æ”¯çš„æ–°å»ºä¸åˆå¹¶-åˆ†æ”¯æ“ä½œ.html.f7495958.js"><link rel="prefetch" href="/cicd/assets/7.Gitåˆ†æ”¯ç®¡ç†-æŸ¥çœ‹åˆ†æ”¯.html.cbe5b302.js"><link rel="prefetch" href="/cicd/assets/8.Gitåˆ†æ”¯å¼€å‘å·¥ä½œæµ.html.a3773721.js"><link rel="prefetch" href="/cicd/assets/9.Gitåˆ†æ”¯-è¿œç¨‹åˆ†æ”¯.html.f02b650d.js"><link rel="prefetch" href="/cicd/assets/index.html.9430da9c.js"><link rel="prefetch" href="/cicd/assets/01.åˆè¯†Kubernetes.html.718e6748.js"><link rel="prefetch" href="/cicd/assets/02.Kuberneteséƒ¨ç½².html.23c2f087.js"><link rel="prefetch" href="/cicd/assets/03.Containerdæ­å»ºKubernets.html.e8dc2fb9.js"><link rel="prefetch" href="/cicd/assets/04.kubernetesåŸºæœ¬æ“ä½œ.html.0af76b6a.js"><link rel="prefetch" href="/cicd/assets/05.Kubernetesç›‘æ§ä¸æ—¥å¿—ç®¡ç†.html.a594c3c4.js"><link rel="prefetch" href="/cicd/assets/07.Kubernetesè°ƒåº¦.html.14c32ccd.js"><link rel="prefetch" href="/cicd/assets/08.Kubernetesç½‘ç»œ.html.9c5c9140.js"><link rel="prefetch" href="/cicd/assets/09.Kuberneteså­˜å‚¨.html.3b313902.js"><link rel="prefetch" href="/cicd/assets/10.Kuberneteså®‰å…¨.html.2e9fe6b9.js"><link rel="prefetch" href="/cicd/assets/11.Kubernetesé›†ç¾¤ç»´æŠ¤.html.1acd8f93.js"><link rel="prefetch" href="/cicd/assets/12.Kubernetesé›†ç¾¤æ•…éšœæ’æŸ¥.html.8f29c4b0.js"><link rel="prefetch" href="/cicd/assets/13.Helm.html.26881fb7.js"><link rel="prefetch" href="/cicd/assets/14.é«˜çº§è¿ç»´.html.c7f0e1f0.js"><link rel="prefetch" href="/cicd/assets/15.NFSåšK8Såç«¯å­˜å‚¨.html.24ca6a24.js"><link rel="prefetch" href="/cicd/assets/16.Glusterfså¯¹æ¥K8S.html.ad02c1e8.js"><link rel="prefetch" href="/cicd/assets/17.Cephå¯¹æ¥K8Så­˜å‚¨(RBD).html.1d95bb20.js"><link rel="prefetch" href="/cicd/assets/18.Rookæ„å»ºCephäº‘åŸç”Ÿå­˜å‚¨.html.2ba920ae.js"><link rel="prefetch" href="/cicd/assets/19.Kubectlå¤šé›†ç¾¤é…ç½®.html.e8f8f7c4.js"><link rel="prefetch" href="/cicd/assets/20.ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹é¢„ç•™è®¡ç®—èµ„æº.html.b1949ea8.js"><link rel="prefetch" href="/cicd/assets/21.Helmæ­å»ºEFKæ—¥å¿—ç³»ç»Ÿ.html.ba0060b8.js"><link rel="prefetch" href="/cicd/assets/22.Kubernetesçš„client-Python.html.4c201fe0.js"><link rel="prefetch" href="/cicd/assets/23.kubectlå‘½ä»¤.html.7ee5462d.js"><link rel="prefetch" href="/cicd/assets/01.é›†ç¾¤éƒ¨ç½²ä¸å®‰å…¨é…ç½®.html.6cf2ea7f.js"><link rel="prefetch" href="/cicd/assets/02.é›†ç¾¤å¼ºåŒ–.html.c2fb1f15.js"><link rel="prefetch" href="/cicd/assets/03.å®¹å™¨è¿è¡Œç¯å¢ƒå®‰å…¨åŠ å›º.html.53af5d4e.js"><link rel="prefetch" href="/cicd/assets/04.æœ€å°åŒ–å¾®æœåŠ¡æ¼æ´.html.606e1d3f.js"><link rel="prefetch" href="/cicd/assets/05.ä¾›åº”é“¾å®‰å…¨.html.a66192c3.js"><link rel="prefetch" href="/cicd/assets/06.ç›‘æ§ã€å®¡è®¡å’Œè¿è¡Œæ—¶å®‰å…¨.html.2ea5babd.js"><link rel="prefetch" href="/cicd/assets/index.html.1b7f3e44.js"><link rel="prefetch" href="/cicd/assets/index.html.5b7c881b.js"><link rel="prefetch" href="/cicd/assets/index.html.26cf0adf.js"><link rel="prefetch" href="/cicd/assets/index.html.b5915dba.js"><link rel="prefetch" href="/cicd/assets/index.html.41d43bd1.js"><link rel="prefetch" href="/cicd/assets/index.html.b13345ab.js"><link rel="prefetch" href="/cicd/assets/01.Cephéƒ¨ç½².html.79418d50.js"><link rel="prefetch" href="/cicd/assets/01.Elasticsearchæ•™ç¨‹.html.ef061c1a.js"><link rel="prefetch" href="/cicd/assets/02.SpringBootæ•´åˆES.html.a6432d91.js"><link rel="prefetch" href="/cicd/assets/01.NginxåŸºç¡€.html.bc28dbaf.js"><link rel="prefetch" href="/cicd/assets/02.Nginxåå‘ä»£ç†.html.a20c2185.js"><link rel="prefetch" href="/cicd/assets/03.Nginxè´Ÿè½½å‡è¡¡.html.3475fc9a.js"><link rel="prefetch" href="/cicd/assets/04.NginxåŠ¨é™åˆ†ç¦».html.bbca1346.js"><link rel="prefetch" href="/cicd/assets/05.Nginxé«˜å¯ç”¨.html.3ff4556a.js"><link rel="prefetch" href="/cicd/assets/01.MySQLå®‰è£….html.c8b7a632.js"><link rel="prefetch" href="/cicd/assets/02.MySQLæ¦‚è¿°.html.bc85cfe8.js"><link rel="prefetch" href="/cicd/assets/03.MySQLçš„SQLè¯¦è§£.html.94db624e.js"><link rel="prefetch" href="/cicd/assets/04.MySQLçš„å‡½æ•°.html.7ac6b66e.js"><link rel="prefetch" href="/cicd/assets/05.MySQLçš„çº¦æŸ.html.346ce6fc.js"><link rel="prefetch" href="/cicd/assets/06.MySQLå¤šè¡¨æŸ¥è¯¢.html.42d44f24.js"><link rel="prefetch" href="/cicd/assets/07.MySQLçš„äº‹åŠ¡.html.4ca4e973.js"><link rel="prefetch" href="/cicd/assets/08.MySQLç´¢å¼•.html.d4f9419f.js"><link rel="prefetch" href="/cicd/assets/01.Redisè¯¦è§£.html.11673a0c.js"><link rel="prefetch" href="/cicd/assets/02.SpringBootæ•´åˆRedis.html.017384ad.js"><link rel="prefetch" href="/cicd/assets/1.html.10321f45.js"><link rel="prefetch" href="/cicd/assets/10.html.d41b1bac.js"><link rel="prefetch" href="/cicd/assets/2.html.3a698947.js"><link rel="prefetch" href="/cicd/assets/3.html.826870e0.js"><link rel="prefetch" href="/cicd/assets/4.html.cf3356c9.js"><link rel="prefetch" href="/cicd/assets/5.html.2797d83f.js"><link rel="prefetch" href="/cicd/assets/6.html.2945720d.js"><link rel="prefetch" href="/cicd/assets/7.html.345f6876.js"><link rel="prefetch" href="/cicd/assets/8.html.22eeaf17.js"><link rel="prefetch" href="/cicd/assets/9.html.fb97463e.js"><link rel="prefetch" href="/cicd/assets/1.html.1bc685b4.js"><link rel="prefetch" href="/cicd/assets/2.html.cece9490.js"><link rel="prefetch" href="/cicd/assets/3.html.0f468b41.js"><link rel="prefetch" href="/cicd/assets/4.html.f146419f.js"><link rel="prefetch" href="/cicd/assets/5.html.3d122983.js"><link rel="prefetch" href="/cicd/assets/6.html.c878bea8.js"><link rel="prefetch" href="/cicd/assets/7.html.d8066882.js"><link rel="prefetch" href="/cicd/assets/8.html.6a7ca4b4.js"><link rel="prefetch" href="/cicd/assets/9.html.1977ed66.js"><link rel="prefetch" href="/cicd/assets/10.html.70e5e391.js"><link rel="prefetch" href="/cicd/assets/11.html.fde4ea88.js"><link rel="prefetch" href="/cicd/assets/2.html.a4c229e2.js"><link rel="prefetch" href="/cicd/assets/3.html.1f1466b3.js"><link rel="prefetch" href="/cicd/assets/4.html.bbe498e7.js"><link rel="prefetch" href="/cicd/assets/5.html.ef61f3b0.js"><link rel="prefetch" href="/cicd/assets/6.html.2c8d703e.js"><link rel="prefetch" href="/cicd/assets/7.html.24541ac0.js"><link rel="prefetch" href="/cicd/assets/8.html.6fc3bd96.js"><link rel="prefetch" href="/cicd/assets/9.html.f6352ede.js"><link rel="prefetch" href="/cicd/assets/awk.html.b95e15bc.js"><link rel="prefetch" href="/cicd/assets/01.Javaç¯å¢ƒé…ç½®.html.844b0dea.js"><link rel="prefetch" href="/cicd/assets/02.JavaåŸºç¡€æ¦‚å¿µ.html.b108d44e.js"><link rel="prefetch" href="/cicd/assets/03.Javaè¿ç®—ç¬¦.html.bd2cfbfa.js"><link rel="prefetch" href="/cicd/assets/04.Javaå¾ªç¯å’Œåˆ¤æ–­.html.5338a35d.js"><link rel="prefetch" href="/cicd/assets/05.Javaå¾ªç¯é«˜çº§å’Œæ•°ç»„.html.e00599ce.js"><link rel="prefetch" href="/cicd/assets/06.Javaæ–¹æ³•.html.7bb52ddb.js"><link rel="prefetch" href="/cicd/assets/07.Javaé¢å‘å¯¹è±¡.html.1079eb2b.js"><link rel="prefetch" href="/cicd/assets/08.Javaå­—ç¬¦ä¸².html.b901cbca.js"><link rel="prefetch" href="/cicd/assets/00.Javaé¢å¯¹å¯¹è±¡è¿›é˜¶.html.8918d3ae.js"><link rel="prefetch" href="/cicd/assets/01.æ—¥æœŸå’Œæ—¶é—´.html.348c00bd.js"><link rel="prefetch" href="/cicd/assets/02.æ­£åˆ™è¡¨è¾¾å¼.html.50ebd968.js"><link rel="prefetch" href="/cicd/assets/03.é›†åˆ.html.49082e37.js"><link rel="prefetch" href="/cicd/assets/04.Streamæµ.html.68f40f0d.js"><link rel="prefetch" href="/cicd/assets/05.å¼‚å¸¸å¤„ç†.html.29a650ed.js"><link rel="prefetch" href="/cicd/assets/06.æ—¥å¿—æ¡†æ¶.html.3ba2ce90.js"><link rel="prefetch" href="/cicd/assets/07.Fileç±»ã€IOæµ.html.6004e11e.js"><link rel="prefetch" href="/cicd/assets/08.IOæµè¿›é˜¶.html.93d298d8.js"><link rel="prefetch" href="/cicd/assets/09.å¤šçº¿ç¨‹.html.db4ffd29.js"><link rel="prefetch" href="/cicd/assets/10.ç½‘ç»œç¼–ç¨‹.html.f919c8a9.js"><link rel="prefetch" href="/cicd/assets/11.å•å…ƒæµ‹è¯•å’Œåå°„.html.afdbe08a.js"><link rel="prefetch" href="/cicd/assets/12.æ³¨è§£å’ŒåŠ¨æ€ä»£ç†.html.2c795104.js"><link rel="prefetch" href="/cicd/assets/13.XMLå’Œè®¾è®¡æ¨¡å¼.html.3d0c311c.js"><link rel="prefetch" href="/cicd/assets/01.SpringBootå¿«é€Ÿå…¥é—¨.html.b15e5cee.js"><link rel="prefetch" href="/cicd/assets/02.SpringBooté…ç½®æ–‡ä»¶.html.a51b7c4d.js"><link rel="prefetch" href="/cicd/assets/03.æ•´åˆJunitå’ŒMybatis.html.88ff751a.js"><link rel="prefetch" href="/cicd/assets/04.SpringBootæ—¥å¿—.html.cefe801e.js"><link rel="prefetch" href="/cicd/assets/05.SpringBootå¸¸ç”¨æ³¨è§£.html.6d4915ed.js"><link rel="prefetch" href="/cicd/assets/06.SpringBootå¼€å‘é…ç½®.html.eaeb29c4.js"><link rel="prefetch" href="/cicd/assets/07.SpringBootæ•°æ®å±‚æ–¹æ¡ˆ.html.66233b05.js"><link rel="prefetch" href="/cicd/assets/08.SpringBootæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯.html.72fb537e.js"><link rel="prefetch" href="/cicd/assets/01.Springçš„IoCå’ŒDI.html.baa8886c.js"><link rel="prefetch" href="/cicd/assets/02.IoCå’ŒDIæ³¨è§£å¼€å‘.html.d79783cd.js"><link rel="prefetch" href="/cicd/assets/03.Springçš„MVCå…¥é—¨.html.539104f8.js"><link rel="prefetch" href="/cicd/assets/04.SpringMVCçš„è¯·æ±‚å’Œå“åº”.html.028bbdf3.js"><link rel="prefetch" href="/cicd/assets/05.Springæ•´åˆJdbc.html.53c21fb4.js"><link rel="prefetch" href="/cicd/assets/06.SpringMVCé¡¹ç›®çš„å¸¸ç”¨é…ç½®.html.6eda597e.js"><link rel="prefetch" href="/cicd/assets/07.SpringMVCæ‹¦æˆªå™¨.html.1b33a69b.js"><link rel="prefetch" href="/cicd/assets/08.Springçš„å¼‚å¸¸å¤„ç†.html.a8841457.js"><link rel="prefetch" href="/cicd/assets/09.Springçš„AOP.html.dfaed15c.js"><link rel="prefetch" href="/cicd/assets/10.Springçš„äº‹åŠ¡ç®¡ç†.html.03810ef4.js"><link rel="prefetch" href="/cicd/assets/11.Mybatiså…¥é—¨.html.e46a9d31.js"><link rel="prefetch" href="/cicd/assets/12.Mybatiså¤šè¡¨æŸ¥è¯¢.html.ef88ef89.js"><link rel="prefetch" href="/cicd/assets/13.Mybatisæ³¨è§£å¼€å‘.html.c9eb015f.js"><link rel="prefetch" href="/cicd/assets/14.MyBatisPlus.html.b2b54d4f.js"><link rel="prefetch" href="/cicd/assets/404.html.792fbdca.js"><link rel="prefetch" href="/cicd/assets/auto.264f6c8c.js"><link rel="prefetch" href="/cicd/assets/index.cac02f97.js"><link rel="prefetch" href="/cicd/assets/flowchart.parse.ee90d7e0.js"><link rel="prefetch" href="/cicd/assets/mermaid.esm.min.e3b5d21d.js"><link rel="prefetch" href="/cicd/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/cicd/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/cicd/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/cicd/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/cicd/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/cicd/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/cicd/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/cicd/assets/VuePlayground.74354207.js"><link rel="prefetch" href="/cicd/assets/photoswipe.esm.382b1873.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/cicd/zh" class="brand"><img class="logo" src="/cicd/logo.svg" alt="æ–‡æ¡£æ¼”ç¤º"><!----><span class="site-name hide-in-pad">æ–‡æ¡£æ¼”ç¤º</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/cicd/zh" class="nav-link" aria-label="isKcount"><span class="icon iconfont icon-home"></span>isKcount<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åˆ†ç±»"><span class="title"><span class="icon iconfont icon-interact"></span>åˆ†ç±»</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cicd/zh/isKcount/1/" class="nav-link" aria-label="å­¦ä¹ è·¯çº¿è§„åˆ’"><span class="icon iconfont icon-ability"></span>å­¦ä¹ è·¯çº¿è§„åˆ’<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/isKcount/2/" class="nav-link active" aria-label="è€ƒè¯"><span class="icon iconfont icon-relation"></span>è€ƒè¯<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/isKcount/3/" class="nav-link" aria-label="è¿ç»´ç¬”è®°"><span class="icon iconfont icon-linux"></span>è¿ç»´ç¬”è®°<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/isKcount/4/" class="nav-link" aria-label="åç«¯å¼€å‘ç¬”è®°"><span class="icon iconfont icon-note"></span>åç«¯å¼€å‘ç¬”è®°<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/isKcount/5/" class="nav-link" aria-label="å‰ç«¯å¼€å‘ç¬”è®°"><span class="icon iconfont icon-like"></span>å‰ç«¯å¼€å‘ç¬”è®°<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/isKcount/6/" class="nav-link" aria-label="ä¸­é—´ä»¶æœåŠ¡ç¬”è®°"><span class="icon iconfont icon-api"></span>ä¸­é—´ä»¶æœåŠ¡ç¬”è®°<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Devops"><span class="title"><span class="icon iconfont icon-select"></span>Devops</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cicd/zh/pip/git/" class="nav-link" aria-label="Gitå¼€å‘æ‰‹å†Œ"><span class="icon iconfont icon-git"></span>Gitå¼€å‘æ‰‹å†Œ<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/pip/ci/" class="nav-link" aria-label="CICD"><span class="icon iconfont icon-ci"></span>CICD<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/pip/istio/" class="nav-link" aria-label="Istio"><span class="icon iconfont icon-material"></span>Istio<!----></a></li><li class="dropdown-item"><a href="/cicd/zh/pip/operator/" class="nav-link" aria-label="Operator"><span class="icon iconfont icon-proxy"></span>Operator<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://wallhaven.cc/" rel="noopener noreferrer" target="_blank" aria-label="Wallhaven" class="nav-link"><span class="icon iconfont icon-autumn"></span>Wallhaven<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/cicd/zh/isKcount/" class="nav-link sidebar-link sidebar-page" aria-label="æŒ‡å—"><span class="icon iconfont icon-creative"></span>æŒ‡å—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-ability"></span><span class="title">å­¦ä¹ è·¯çº¿è§„åˆ’</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-relation"></span><span class="title">è€ƒè¯</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-linux"></span><span class="title">è¿ç»´ç¬”è®°</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">åç«¯å¼€å‘ç¬”è®°</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-like"></span><span class="title">å‰ç«¯å¼€å‘ç¬”è®°</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-api"></span><span class="title">ä¸­é—´ä»¶æœåŠ¡ç¬”è®°</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://iskcount.github.io" target="_blank" rel="noopener noreferrer">isKcount</a></span><span property="author" content="isKcount"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´1æœˆ22æ—¥</span><meta property="datePublished" content="2022-01-22T12:12:04.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 35 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT35M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#ä½¿ç”¨deploymentéƒ¨ç½²javaåº”ç”¨" class="router-link-active router-link-exact-active toc-link level3">ä½¿ç”¨Deploymentéƒ¨ç½²Javaåº”ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶æ ¼å¼è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶æ ¼å¼è¯´æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡-1" class="router-link-active router-link-exact-active toc-link level3">æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#èµ„æºå­—æ®µå¤šçš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">èµ„æºå­—æ®µå¤šçš„é—®é¢˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#pod" class="router-link-active router-link-exact-active toc-link level2">Pod</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#podå¯¹è±¡-åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">Podå¯¹è±¡ï¼šåŸºæœ¬æ¦‚å¿µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#å¦‚ä½•ä½¿ç”¨-pod" class="router-link-active router-link-exact-active toc-link level3">å¦‚ä½•ä½¿ç”¨ Pod</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#pod-æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨" class="router-link-active router-link-exact-active toc-link level3">Pod æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#pod-ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">Pod ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#pod-æ¨¡ç‰ˆ" class="router-link-active router-link-exact-active toc-link level3">Pod æ¨¡ç‰ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#pod-æ›´æ–°ä¸æ›¿æ¢" class="router-link-active router-link-exact-active toc-link level3">Pod æ›´æ–°ä¸æ›¿æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#å®¹å™¨æ¢é’ˆ" class="router-link-active router-link-exact-active toc-link level3">å®¹å™¨æ¢é’ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#pod-çš„ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active toc-link level3">Pod çš„ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#å®¹å™¨æ¢é’ˆ-1" class="router-link-active router-link-exact-active toc-link level3">å®¹å™¨æ¢é’ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#podå¯¹è±¡-ç®¡ç†å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">Podå¯¹è±¡ï¼šç®¡ç†å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#podå¯¹è±¡-é‡å¯ç­–ç•¥-å¥åº·æ£€æŸ¥" class="router-link-active router-link-exact-active toc-link level3">Podå¯¹è±¡ï¼šé‡å¯ç­–ç•¥+å¥åº·æ£€æŸ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#é‡å¯ç­–ç•¥" class="router-link-active router-link-exact-active toc-link level3">é‡å¯ç­–ç•¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹" class="router-link-active router-link-exact-active toc-link level3">å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#podå¯¹è±¡-lnit-container" class="router-link-active router-link-exact-active toc-link level3">Podå¯¹è±¡ï¼šlnit Container</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#podå¯¹è±¡-é™æ€pod" class="router-link-active router-link-exact-active toc-link level3">Podå¯¹è±¡ï¼šé™æ€Pod</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#é™æ€podçš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active toc-link level3">é™æ€Podçš„ç‰¹ç‚¹ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€pod" class="router-link-active router-link-exact-active toc-link level3">åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€Podï¼š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment" class="router-link-active router-link-exact-active toc-link level2">Deployment</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šåº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-éƒ¨ç½²åº”ç”¨" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šéƒ¨ç½²åº”ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-æ»šåŠ¨å‡çº§" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šæ»šåŠ¨å‡çº§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-æ°´å¹³æ‰©ç¼©å®¹" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šæ°´å¹³æ‰©ç¼©å®¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-å›æ»š" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šå›æ»š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-åˆ é™¤" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šåˆ é™¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#deployment-æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level3">Deploymentï¼šæ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#replicationcontrollerå’Œreplicaset" class="router-link-active router-link-exact-active toc-link level2">ReplicationControllerå’ŒReplicaSet</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#replicationcontroller" class="router-link-active router-link-exact-active toc-link level3">ReplicationController</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#replicationcontrollerçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">ReplicationControllerçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹" class="router-link-active router-link-exact-active toc-link level3">ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#replicaset" class="router-link-active router-link-exact-active toc-link level2">ReplicaSet</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#replicasetæ§åˆ¶å™¨ç”¨é€”" class="router-link-active router-link-exact-active toc-link level3">ReplicaSetæ§åˆ¶å™¨ç”¨é€”ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#replicasetçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">ReplicaSetçš„ä½¿ç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#hpa" class="router-link-active router-link-exact-active toc-link level2">HPA</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#hpaçš„ç®€è¦æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">HPAçš„ç®€è¦æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#å®‰è£…metrics-server" class="router-link-active router-link-exact-active toc-link level3">å®‰è£…Metrics Server</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#hpaçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">HPAçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½" class="router-link-active router-link-exact-active toc-link level3">æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#job-å’Œ-cronjob" class="router-link-active router-link-exact-active toc-link level2">Job å’Œ Cronjob</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#jobçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">Jobçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#cronjobçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">CronJobçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/cicd/zh/isKcount/2/CKA/06.Kubernetes%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86.html#cron-æ—¶é—´è¡¨è¯­æ³•" class="router-link-active router-link-exact-active toc-link level3">Cron æ—¶é—´è¡¨è¯­æ³•</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" tabindex="-1"><a class="header-anchor" href="#kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" aria-hidden="true">#</a> Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</h1><h2 id="åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†" aria-hidden="true">#</a> åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†</h2><p><strong>åœ¨Kubernetesä¸­éƒ¨ç½²åº”ç”¨æµç¨‹</strong></p><p><strong>æœåŠ¡ç¼–æ’ï¼ˆYAMLï¼‰</strong></p><p><strong>Deploymentå·¥ä½œè´Ÿè½½å‡è¡¡å™¨</strong></p><ul><li>ä»‹ç»</li><li>åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹</li><li>åº”ç”¨éƒ¨ç½²</li><li>åº”ç”¨å‡çº§</li><li>æ°´å¹³æ‰©ç¼©å®¹ å›æ»š</li><li>æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶</li></ul><img src="https://pic.imgdb.cn/item/61ebeca92ab3f51d911391a7.png" style="zoom:67%;"><h3 id="ä½¿ç”¨deploymentéƒ¨ç½²javaåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨deploymentéƒ¨ç½²javaåº”ç”¨" aria-hidden="true">#</a> ä½¿ç”¨Deploymentéƒ¨ç½²Javaåº”ç”¨</h3><p><strong>ä½¿ç”¨Deploymentæ§åˆ¶å™¨éƒ¨ç½²é•œåƒï¼š</strong></p><p><strong>åˆ›å»ºä¸€ä¸ªDeploymentæ§åˆ¶å™¨ç„¶åé•œåƒä½¿ç”¨çš„æ—¶nginx:latest</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl create deployment web --image=nginx:latest deployment.apps/web created</span>
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get deploy </span>
NAME   READY   UP-TO-DATE   AVAILABLE   AGEweb    <span class="token number">0</span>/1     <span class="token number">1</span>            <span class="token number">0</span>           11s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨Serviceå°†Podæš´éœ²å‡ºå»ï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl expose deployment web --port=80 --target-port=80 --type=NodePort      service/web exposed</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>è®¿é—®åº”ç”¨ï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get service</span>
NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>        AGE
kubernetes   ClusterIP   <span class="token number">10.96</span>.0.1       <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">443</span>/TCP        11h
web          NodePort    <span class="token number">10.99</span>.251.101   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">80</span>:30746/TCP   3m15shttp://NodeIP:Port     
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶æ ¼å¼è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶æ ¼å¼è¯´æ˜" aria-hidden="true">#</a> æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶æ ¼å¼è¯´æ˜</h3><p><strong>åœ¨æ­¤ä¹‹å‰å­¦ä¹ ansibleçš„æ—¶å€™å°±æœ‰å­¦ä¹ è¿‡yamlæ–‡ä»¶æ ¼å¼</strong></p><p>K8sæ˜¯ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œä½¿ç”¨YAMLæ–‡ä»¶ç¼–æ’è¦éƒ¨ç½²åº”ç”¨ï¼Œå› æ­¤åœ¨å­¦ä¹ ä¹‹å‰ï¼Œåº”å…ˆäº†è§£YAMLè¯­æ³•æ ¼å¼ï¼š</p><p>â€¢ ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</p><p>â€¢ ä¸æ”¯æŒåˆ¶è¡¨ç¬¦â€œtabâ€ç¼©è¿›ï¼Œä½¿ç”¨ç©ºæ ¼ç¼©è¿›</p><p>â€¢ é€šå¸¸å¼€å¤´ç¼©è¿› 2 ä¸ªç©ºæ ¼</p><p>â€¢ å­—ç¬¦åç¼©è¿› 1 ä¸ªç©ºæ ¼ï¼Œå¦‚å†’å·ã€é€—å·ç­‰</p><p>â€¢ â€œ---â€ è¡¨ç¤ºYAMLæ ¼å¼ï¼Œä¸€ä¸ªæ–‡ä»¶çš„å¼€å§‹</p><p>â€¢ â€œ#â€æ³¨é‡Š</p><h3 id="æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡" aria-hidden="true">#</a> æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</h3><img src="https://pic.imgdb.cn/item/61ebeca92ab3f51d911391b3.png" style="zoom:67%;"><h3 id="æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡-1" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç¼–æ’-yamlæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡-1" aria-hidden="true">#</a> æœåŠ¡ç¼–æ’ï¼šYAMLæ–‡ä»¶åˆ›å»ºèµ„æºå¯¹è±¡</h3><img src="https://pic.imgdb.cn/item/61ebeca92ab3f51d911391be.png" style="zoom:67%;"><blockquote><p><strong>æœåŠ¡ç¼–æ’ï¼šèµ„æºå­—æ®µå¤ªå¤šï¼Œè®°ä¸ä½æ€ä¹ˆåŠ?</strong></p></blockquote><p><img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1b6.png" alt="" loading="lazy"></p><h3 id="èµ„æºå­—æ®µå¤šçš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#èµ„æºå­—æ®µå¤šçš„é—®é¢˜" aria-hidden="true">#</a> èµ„æºå­—æ®µå¤šçš„é—®é¢˜</h3><ul><li>ç”¨createå‘½ä»¤ç”Ÿæˆ</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl create deployment nginx <span class="token parameter variable">--image</span><span class="token operator">=</span>nginx:1.16 <span class="token parameter variable">-o</span> yaml --dry-run   <span class="token operator">&gt;</span> my-deploy.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>ç”¨getå‘½ä»¤å¯¼å‡º</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ kubectl get deployment nginx -o yaml &gt; my-deploy.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Podå®¹å™¨çš„å­—æ®µå¿˜è®°æ‹¼å†™äº†</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl explain pods.spec.containers
$ kubectl explain deployment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pod" tabindex="-1"><a class="header-anchor" href="#pod" aria-hidden="true">#</a> Pod</h2><h3 id="podå¯¹è±¡-åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#podå¯¹è±¡-åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> Podå¯¹è±¡ï¼šåŸºæœ¬æ¦‚å¿µ</h3><ul><li><strong><code>Pod æ˜¯å¯ä»¥åœ¨ Kubernetes ä¸­åˆ›å»ºå’Œç®¡ç†çš„ã€æœ€å°çš„å¯éƒ¨ç½²çš„è®¡ç®—å•å…ƒã€‚</code></strong></li><li><em>Pod</em> ï¼ˆå°±åƒåœ¨é²¸é±¼èšæˆ–è€…è±Œè±†èšä¸­ï¼‰æ˜¯ä¸€ç»„ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ <a href="https://kubernetes.io/zh/docs/concepts/overview/what-is-kubernetes/#why-containers" target="_blank" rel="noopener noreferrer">å®¹å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼› è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œã€ä»¥åŠæ€æ ·è¿è¡Œè¿™äº›å®¹å™¨çš„å£°æ˜ã€‚ Pod ä¸­çš„å†…å®¹æ€»æ˜¯å¹¶ç½®ï¼ˆcolocatedï¼‰çš„å¹¶ä¸”ä¸€åŒè°ƒåº¦ï¼Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ Pod æ‰€å»ºæ¨¡çš„æ˜¯ç‰¹å®šäºåº”ç”¨çš„â€œé€»è¾‘ä¸»æœºâ€ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨å®¹å™¨ï¼Œ è¿™äº›å®¹å™¨æ˜¯ç›¸å¯¹ç´§å¯†çš„è€¦åˆåœ¨ä¸€èµ·çš„ã€‚ åœ¨éäº‘ç¯å¢ƒä¸­ï¼Œåœ¨ç›¸åŒçš„ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„åº”ç”¨ç±»ä¼¼äº åœ¨åŒä¸€é€»è¾‘ä¸»æœºä¸Šè¿è¡Œçš„äº‘åº”ç”¨ã€‚</li><li>é™¤äº†åº”ç”¨å®¹å™¨ï¼ŒPod è¿˜å¯ä»¥åŒ…å«åœ¨ Pod å¯åŠ¨æœŸé—´è¿è¡Œçš„ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/init-containers/" target="_blank" rel="noopener noreferrer">Init å®¹å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚ ä½ ä¹Ÿå¯ä»¥åœ¨é›†ç¾¤ä¸­æ”¯æŒ<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/ephemeral-containers/" target="_blank" rel="noopener noreferrer">ä¸´æ—¶æ€§å®¹å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> çš„æƒ…å†µä¸‹ï¼Œä¸ºè°ƒè¯•çš„ç›®çš„æ³¨å…¥ä¸´æ—¶æ€§å®¹å™¨ã€‚</li><li><strong><code>èµ„æºå…±äº«å’Œé€šä¿¡ï¼š</code></strong> Pod ä½¿å®ƒçš„æˆå‘˜å®¹å™¨é—´èƒ½å¤Ÿè¿›è¡Œæ•°æ®å…±äº«å’Œé€šä¿¡ã€‚</li><li><strong><code>Podä¸­çš„å­˜å‚¨ï¼š</code></strong> ä¸€ä¸ª Pod å¯ä»¥è®¾ç½®ä¸€ç»„å…±äº«çš„å­˜å‚¨<a href="https://kubernetes.io/zh/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">å·<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚ Pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å¯ä»¥è®¿é—®è¯¥å…±äº«å·ï¼Œä»è€Œå…è®¸è¿™äº›å®¹å™¨å…±äº«æ•°æ®ã€‚ å·è¿˜å…è®¸ Pod ä¸­çš„æŒä¹…æ•°æ®ä¿ç•™ä¸‹æ¥ï¼Œå³ä½¿å…¶ä¸­çš„å®¹å™¨éœ€è¦é‡æ–°å¯åŠ¨ã€‚</li></ul><h3 id="å¦‚ä½•ä½¿ç”¨-pod" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-pod" aria-hidden="true">#</a> å¦‚ä½•ä½¿ç”¨ Pod</h3><p>é€šå¸¸ä½ ä¸éœ€è¦ç›´æ¥åˆ›å»º Podï¼Œç”šè‡³å•å®ä¾‹ Podã€‚ ç›¸åï¼Œä½ ä¼šä½¿ç”¨è¯¸å¦‚ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æˆ– <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/job/" target="_blank" rel="noopener noreferrer">Job<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è¿™ç±»å·¥ä½œè´Ÿè½½èµ„æº æ¥åˆ›å»º Podã€‚å¦‚æœ Pod éœ€è¦è·Ÿè¸ªçŠ¶æ€ï¼Œ å¯ä»¥è€ƒè™‘ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/statefulset/" target="_blank" rel="noopener noreferrer">StatefulSet<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> èµ„æºã€‚</p><p>ä½ å¾ˆå°‘åœ¨ Kubernetes ä¸­ç›´æ¥åˆ›å»ºä¸€ä¸ªä¸ªçš„ Podï¼Œç”šè‡³æ˜¯å•å®ä¾‹ï¼ˆSingletonï¼‰çš„ Podã€‚ è¿™æ˜¯å› ä¸º Pod è¢«è®¾è®¡æˆäº†ç›¸å¯¹ä¸´æ—¶æ€§çš„ã€ç”¨åå³æŠ›çš„ä¸€æ¬¡æ€§å®ä½“ã€‚ å½“ Pod ç”±ä½ æˆ–è€…é—´æ¥åœ°ç”± <a href="https://kubernetes.io/zh/docs/concepts/architecture/controller/" target="_blank" rel="noopener noreferrer">æ§åˆ¶å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> åˆ›å»ºæ—¶ï¼Œå®ƒè¢«è°ƒåº¦åœ¨é›†ç¾¤ä¸­çš„<a href="https://kubernetes.io/zh/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸Šè¿è¡Œã€‚ Pod ä¼šä¿æŒåœ¨è¯¥èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œç›´åˆ° Pod ç»“æŸæ‰§è¡Œã€Pod å¯¹è±¡è¢«åˆ é™¤ã€Pod å› èµ„æºä¸è¶³è€Œè¢« <em>é©±é€</em> æˆ–è€…èŠ‚ç‚¹å¤±æ•ˆä¸ºæ­¢ã€‚</p><p>Kubernetes é›†ç¾¤ä¸­çš„ Pod ä¸»è¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š</p><ul><li><strong>è¿è¡Œå•ä¸ªå®¹å™¨çš„ Pod</strong>ã€‚&quot;æ¯ä¸ª Pod ä¸€ä¸ªå®¹å™¨&quot;æ¨¡å‹æ˜¯æœ€å¸¸è§çš„ Kubernetes ç”¨ä¾‹ï¼› åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°† Pod çœ‹ä½œå•ä¸ªå®¹å™¨çš„åŒ…è£…å™¨ï¼Œå¹¶ä¸” Kubernetes ç›´æ¥ç®¡ç† Podï¼Œè€Œä¸æ˜¯å®¹å™¨ã€‚</li><li><strong>è¿è¡Œå¤šä¸ªååŒå·¥ä½œçš„å®¹å™¨çš„ Pod</strong>ã€‚ Pod å¯èƒ½å°è£…ç”±å¤šä¸ªç´§å¯†è€¦åˆä¸”éœ€è¦å…±äº«èµ„æºçš„å…±å¤„å®¹å™¨ç»„æˆçš„åº”ç”¨ç¨‹åºã€‚ è¿™äº›ä½äºåŒä¸€ä½ç½®çš„å®¹å™¨å¯èƒ½å½¢æˆå•ä¸ªå†…èšçš„æœåŠ¡å•å…ƒ â€”â€” ä¸€ä¸ªå®¹å™¨å°†æ–‡ä»¶ä»å…±äº«å·æä¾›ç»™å…¬ä¼—ï¼Œ è€Œå¦ä¸€ä¸ªå•ç‹¬çš„â€œè¾¹è½¦â€ï¼ˆsidecarï¼‰å®¹å™¨åˆ™åˆ·æ–°æˆ–æ›´æ–°è¿™äº›æ–‡ä»¶ã€‚ Pod å°†è¿™äº›å®¹å™¨å’Œå­˜å‚¨èµ„æºæ‰“åŒ…ä¸ºä¸€ä¸ªå¯ç®¡ç†çš„å®ä½“ã€‚</li></ul><h3 id="pod-æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#pod-æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨" aria-hidden="true">#</a> Pod æ€æ ·ç®¡ç†å¤šä¸ªå®¹å™¨</h3><ul><li>Pod è¢«è®¾è®¡æˆæ”¯æŒå½¢æˆå†…èšæœåŠ¡å•å…ƒçš„å¤šä¸ªåä½œè¿‡ç¨‹ï¼ˆå½¢å¼ä¸ºå®¹å™¨ï¼‰ã€‚ Pod ä¸­çš„å®¹å™¨è¢«è‡ªåŠ¨å®‰æ’åˆ°é›†ç¾¤ä¸­çš„åŒä¸€ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Šï¼Œå¹¶å¯ä»¥ä¸€èµ·è¿›è¡Œè°ƒåº¦ã€‚ å®¹å™¨ä¹‹é—´å¯ä»¥å…±äº«èµ„æºå’Œä¾èµ–ã€å½¼æ­¤é€šä¿¡ã€åè°ƒä½•æ—¶ä»¥åŠä½•ç§æ–¹å¼ç»ˆæ­¢è‡ªèº«ã€‚</li><li>Pod å¤©ç”Ÿåœ°ä¸ºå…¶æˆå‘˜å®¹å™¨æä¾›äº†ä¸¤ç§å…±äº«èµ„æºï¼š<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/#pod-networking" target="_blank" rel="noopener noreferrer">ç½‘ç»œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å’Œ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/#pod-storage" target="_blank" rel="noopener noreferrer">å­˜å‚¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</li></ul><h3 id="pod-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#pod-ä½¿ç”¨" aria-hidden="true">#</a> Pod ä½¿ç”¨</h3><blockquote><p><strong>è¯´æ˜ï¼š</strong> é‡å¯ Pod ä¸­çš„å®¹å™¨ä¸åº”ä¸é‡å¯ Pod æ··æ·†ã€‚ Pod ä¸æ˜¯è¿›ç¨‹ï¼Œè€Œæ˜¯å®¹å™¨è¿è¡Œçš„ç¯å¢ƒã€‚ åœ¨è¢«åˆ é™¤ä¹‹å‰ï¼ŒPod ä¼šä¸€ç›´å­˜åœ¨ã€‚</p><p><strong>Pod å’Œæ§åˆ¶å™¨</strong></p><p><strong>ä½ å¯ä»¥ä½¿ç”¨å·¥ä½œè´Ÿè½½èµ„æºæ¥åˆ›å»ºå’Œç®¡ç†å¤šä¸ª Podã€‚ èµ„æºçš„æ§åˆ¶å™¨èƒ½å¤Ÿå¤„ç†å‰¯æœ¬çš„ç®¡ç†ã€ä¸Šçº¿ï¼Œå¹¶åœ¨ Pod å¤±æ•ˆæ—¶æä¾›è‡ªæ„ˆèƒ½åŠ›ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹å¤±è´¥ï¼Œæ§åˆ¶å™¨æ³¨æ„åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„ Pod å·²ç»åœæ­¢å·¥ä½œï¼Œ å°±å¯ä»¥åˆ›å»ºæ›¿æ¢æ€§çš„ Podã€‚è°ƒåº¦å™¨ä¼šå°†æ›¿èº« Pod è°ƒåº¦åˆ°ä¸€ä¸ªå¥åº·çš„èŠ‚ç‚¹æ‰§è¡Œã€‚</strong></p></blockquote><h3 id="pod-æ¨¡ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#pod-æ¨¡ç‰ˆ" aria-hidden="true">#</a> Pod æ¨¡ç‰ˆ</h3><ul><li><a href="https://kubernetes.io/zh/docs/concepts/workloads/" target="_blank" rel="noopener noreferrer">è´Ÿè½½<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>èµ„æºçš„æ§åˆ¶å™¨é€šå¸¸ä½¿ç”¨ <em>Pod æ¨¡æ¿ï¼ˆPod Templateï¼‰</em> æ¥æ›¿ä½ åˆ›å»º Pod å¹¶ç®¡ç†å®ƒä»¬ã€‚</li><li>Pod æ¨¡æ¿æ˜¯åŒ…å«åœ¨å·¥ä½œè´Ÿè½½å¯¹è±¡ä¸­çš„è§„èŒƒï¼Œç”¨æ¥åˆ›å»º Podã€‚è¿™ç±»è´Ÿè½½èµ„æºåŒ…æ‹¬ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/job/" target="_blank" rel="noopener noreferrer">Job<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å’Œ <a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/daemonset/" target="_blank" rel="noopener noreferrer">DaemonSets<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ç­‰ã€‚</li><li>å·¥ä½œè´Ÿè½½çš„æ§åˆ¶å™¨ä¼šä½¿ç”¨è´Ÿè½½å¯¹è±¡ä¸­çš„ <code>PodTemplate</code> æ¥ç”Ÿæˆå®é™…çš„ Podã€‚ <code>PodTemplate</code> æ˜¯ä½ ç”¨æ¥è¿è¡Œåº”ç”¨æ—¶æŒ‡å®šçš„è´Ÿè½½èµ„æºçš„ç›®æ ‡çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚</li></ul><p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯ä¸€ä¸ªç®€å•çš„ Job çš„æ¸…å•ï¼Œå…¶ä¸­çš„ <code>template</code> æŒ‡ç¤ºå¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€‚ è¯¥ Pod ä¸­çš„å®¹å™¨ä¼šæ‰“å°ä¸€æ¡æ¶ˆæ¯ä¹‹åæš‚åœã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> batch/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Job
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> hello
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token comment"># è¿™é‡Œæ˜¯ Pod æ¨¡ç‰ˆ</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> hello
        <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
        <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;sh&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;-c&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;echo &quot;Hello, Kubernetes!&quot; &amp;&amp; sleep 3600&#39;</span><span class="token punctuation">]</span>
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> OnFailure
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pod-æ›´æ–°ä¸æ›¿æ¢" tabindex="-1"><a class="header-anchor" href="#pod-æ›´æ–°ä¸æ›¿æ¢" aria-hidden="true">#</a> Pod æ›´æ–°ä¸æ›¿æ¢</h3><ul><li>ä¿®æ”¹ Pod æ¨¡ç‰ˆæˆ–è€…åˆ‡æ¢åˆ°æ–°çš„ Pod æ¨¡ç‰ˆéƒ½ä¸ä¼šå¯¹å·²ç»å­˜åœ¨çš„ Pod èµ·ä½œç”¨ã€‚ Pod ä¸ä¼šç›´æ¥æ”¶åˆ°æ¨¡ç‰ˆçš„æ›´æ–°ã€‚ç›¸åï¼Œ æ–°çš„ Pod ä¼šè¢«åˆ›å»ºå‡ºæ¥ï¼Œä¸æ›´æ”¹åçš„ Pod æ¨¡ç‰ˆåŒ¹é…ã€‚</li><li>å½“æŸå·¥ä½œè´Ÿè½½çš„ Pod æ¨¡æ¿è¢«æ”¹å˜æ—¶ï¼Œæ§åˆ¶å™¨ä¼šåŸºäºæ›´æ–°çš„æ¨¡æ¿ åˆ›å»ºæ–°çš„ Pod å¯¹è±¡è€Œä¸æ˜¯å¯¹ç°æœ‰ Pod æ‰§è¡Œæ›´æ–°æˆ–è€…ä¿®è¡¥æ“ä½œã€‚</li><li>Pod çš„ç»å¤§å¤šæ•°å…ƒæ•°æ®éƒ½æ˜¯ä¸å¯å˜çš„ã€‚ä¾‹å¦‚ï¼Œä½ ä¸å¯ä»¥æ”¹å˜å…¶ <code>namespace</code>ã€<code>name</code>ã€ <code>uid</code> æˆ–è€… <code>creationTimestamp</code> å­—æ®µï¼›<code>generation</code> å­—æ®µæ˜¯æ¯”è¾ƒç‰¹åˆ«çš„ï¼Œå¦‚æœæ›´æ–° è¯¥å­—æ®µï¼Œåªèƒ½å¢åŠ å­—æ®µå–å€¼è€Œä¸èƒ½å‡å°‘ã€‚</li><li>åœ¨æ›´æ–°<code>spec.activeDeadlineSeconds</code> å­—æ®µæ—¶ï¼Œä»¥ä¸‹ä¸¤ç§æ›´æ–°æ“ä½œæ˜¯è¢«å…è®¸çš„ï¼š <ol><li>å¦‚æœè¯¥å­—æ®µå°šæœªè®¾ç½®ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªæ­£æ•°ï¼›</li><li>å¦‚æœè¯¥å­—æ®µå·²ç»è®¾ç½®ä¸ºä¸€ä¸ªæ­£æ•°ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªæ›´å°çš„ã€éè´Ÿçš„æ•´æ•°ã€‚</li></ol></li></ul><h3 id="å®¹å™¨æ¢é’ˆ" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨æ¢é’ˆ" aria-hidden="true">#</a> å®¹å™¨æ¢é’ˆ</h3><p><em>Pr+obe</em> æ˜¯ç”± kubelet å¯¹å®¹å™¨æ‰§è¡Œçš„å®šæœŸè¯Šæ–­ã€‚è¦æ‰§è¡Œè¯Šæ–­ï¼Œkubelet å¯ä»¥æ‰§è¡Œä¸‰ç§åŠ¨ä½œï¼š</p><ul><li><code>ExecAction</code>ï¼ˆå€ŸåŠ©å®¹å™¨è¿è¡Œæ—¶æ‰§è¡Œï¼‰</li><li><code>TCPSocketAction</code>ï¼ˆç”± kubelet ç›´æ¥æ£€æµ‹ï¼‰</li><li><code>HTTPGetAction</code>ï¼ˆç”± kubelet ç›´æ¥æ£€æµ‹ï¼‰</li></ul><h3 id="pod-çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#pod-çš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Pod çš„ç”Ÿå‘½å‘¨æœŸ</h3><ul><li>Pod éµå¾ªä¸€ä¸ªé¢„å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œèµ·å§‹äº <code>Pending</code> <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase" target="_blank" rel="noopener noreferrer">é˜¶æ®µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œå¦‚æœè‡³å°‘ å…¶ä¸­æœ‰ä¸€ä¸ªä¸»è¦å®¹å™¨æ­£å¸¸å¯åŠ¨ï¼Œåˆ™è¿›å…¥ <code>Running</code>ï¼Œä¹‹åå–å†³äº Pod ä¸­æ˜¯å¦æœ‰å®¹å™¨ä»¥ å¤±è´¥çŠ¶æ€ç»“æŸè€Œè¿›å…¥ <code>Succeeded</code> æˆ–è€… <code>Failed</code> é˜¶æ®µã€‚</li><li>åœ¨ Pod è¿è¡ŒæœŸé—´ï¼Œ<code>kubelet</code> èƒ½å¤Ÿé‡å¯å®¹å™¨ä»¥å¤„ç†ä¸€äº›å¤±æ•ˆåœºæ™¯ã€‚ åœ¨ Pod å†…éƒ¨ï¼ŒKubernetes è·Ÿè¸ªä¸åŒå®¹å™¨çš„<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#container-states" target="_blank" rel="noopener noreferrer">çŠ¶æ€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å¹¶ç¡®å®šä½¿ Pod é‡æ–°å˜å¾—å¥åº·æ‰€éœ€è¦é‡‡å–çš„åŠ¨ä½œã€‚</li><li>Pod åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­åªä¼šè¢«<a href="https://kubernetes.io/zh/docs/concepts/scheduling-eviction/" target="_blank" rel="noopener noreferrer">è°ƒåº¦<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸€æ¬¡ã€‚ ä¸€æ—¦ Pod è¢«è°ƒåº¦ï¼ˆåˆ†æ´¾ï¼‰åˆ°æŸä¸ªèŠ‚ç‚¹ï¼ŒPod ä¼šä¸€ç›´åœ¨è¯¥èŠ‚ç‚¹è¿è¡Œï¼Œç›´åˆ° Pod åœæ­¢æˆ–è€… è¢«<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination" target="_blank" rel="noopener noreferrer">ç»ˆæ­¢<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</li></ul><blockquote><h4 id="pod-ç”Ÿå‘½æœŸ" tabindex="-1"><a class="header-anchor" href="#pod-ç”Ÿå‘½æœŸ" aria-hidden="true">#</a> Pod ç”Ÿå‘½æœŸ</h4></blockquote><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> å’Œä¸€ä¸ªä¸ªç‹¬ç«‹çš„åº”ç”¨å®¹å™¨ä¸€æ ·ï¼ŒPod ä¹Ÿè¢«è®¤ä¸ºæ˜¯ç›¸å¯¹ä¸´æ—¶æ€§ï¼ˆè€Œä¸æ˜¯é•¿æœŸå­˜åœ¨ï¼‰çš„å®ä½“ã€‚ Pod ä¼šè¢«åˆ›å»ºã€èµ‹äºˆä¸€ä¸ªå”¯ä¸€çš„ IDï¼ˆ<a href="https://kubernetes.io/zh/docs/concepts/overview/working-with-objects/names/#uids" target="_blank" rel="noopener noreferrer">UID<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰ï¼Œ å¹¶è¢«è°ƒåº¦åˆ°èŠ‚ç‚¹ï¼Œå¹¶åœ¨ç»ˆæ­¢ï¼ˆæ ¹æ®é‡å¯ç­–ç•¥ï¼‰æˆ–åˆ é™¤ä¹‹å‰ä¸€ç›´è¿è¡Œåœ¨è¯¥èŠ‚ç‚¹ã€‚</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> å¦‚æœä¸€ä¸ª<a href="https://kubernetes.io/zh/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ­»æ‰äº†ï¼Œè°ƒåº¦åˆ°è¯¥èŠ‚ç‚¹ çš„ Pod ä¹Ÿè¢«è®¡åˆ’åœ¨ç»™å®šè¶…æ—¶æœŸé™ç»“æŸå<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-garbage-collection" target="_blank" rel="noopener noreferrer">åˆ é™¤<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> Pod è‡ªèº«ä¸å…·æœ‰è‡ªæ„ˆèƒ½åŠ›ã€‚å¦‚æœ Pod è¢«è°ƒåº¦åˆ°æŸ<a href="https://kubernetes.io/zh/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è€Œè¯¥èŠ‚ç‚¹ä¹‹åå¤±æ•ˆï¼ŒPod ä¼šè¢«åˆ é™¤ï¼›ç±»ä¼¼åœ°ï¼ŒPod æ— æ³•åœ¨å› èŠ‚ç‚¹èµ„æº è€—å°½æˆ–è€…èŠ‚ç‚¹ç»´æŠ¤è€Œè¢«é©±é€æœŸé—´ç»§ç»­å­˜æ´»ã€‚Kubernetes ä½¿ç”¨ä¸€ç§é«˜çº§æŠ½è±¡ æ¥ç®¡ç†è¿™äº›ç›¸å¯¹è€Œè¨€å¯éšæ—¶ä¸¢å¼ƒçš„ Pod å®ä¾‹ï¼Œç§°ä½œ <a href="https://kubernetes.io/zh/docs/concepts/architecture/controller/" target="_blank" rel="noopener noreferrer">æ§åˆ¶å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> ä»»ä½•ç»™å®šçš„ Pod ï¼ˆç”± UID å®šä¹‰ï¼‰ä»ä¸ä¼šè¢«â€œé‡æ–°è°ƒåº¦ï¼ˆrescheduledï¼‰â€åˆ°ä¸åŒçš„èŠ‚ç‚¹ï¼› ç›¸åï¼Œè¿™ä¸€ Pod å¯ä»¥è¢«ä¸€ä¸ªæ–°çš„ã€å‡ ä¹å®Œå…¨ç›¸åŒçš„ Pod æ›¿æ¢æ‰ã€‚ å¦‚æœéœ€è¦ï¼Œæ–° Pod çš„åå­—å¯ä»¥ä¸å˜ï¼Œä½†æ˜¯å…¶ UID ä¼šä¸åŒã€‚</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> å¦‚æœæŸç‰©å£°ç§°å…¶ç”Ÿå‘½æœŸä¸æŸ Pod ç›¸åŒï¼Œä¾‹å¦‚å­˜å‚¨<a href="https://kubernetes.io/zh/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">å·<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œ è¿™å°±æ„å‘³ç€è¯¥å¯¹è±¡åœ¨æ­¤ Pod ï¼ˆUID äº¦ç›¸åŒï¼‰å­˜åœ¨æœŸé—´ä¹Ÿä¸€ç›´å­˜åœ¨ã€‚ å¦‚æœ Pod å› ä¸ºä»»ä½•åŸå› è¢«åˆ é™¤ï¼Œç”šè‡³æŸå®Œå…¨ç›¸åŒçš„æ›¿ä»£ Pod è¢«åˆ›å»ºæ—¶ï¼Œ è¿™ä¸ªç›¸å…³çš„å¯¹è±¡ï¼ˆä¾‹å¦‚è¿™é‡Œçš„å·ï¼‰ä¹Ÿä¼šè¢«åˆ é™¤å¹¶é‡å»ºã€‚</label></li></ul><blockquote><h4 id="pod-é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#pod-é˜¶æ®µ" aria-hidden="true">#</a> Pod é˜¶æ®µ</h4></blockquote><p>Pod çš„é˜¶æ®µæ˜¯ Pod åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­æ‰€å¤„ä½ç½®çš„ç®€å•å®è§‚æ¦‚è¿°ã€‚ è¯¥é˜¶æ®µå¹¶ä¸æ˜¯å¯¹å®¹å™¨æˆ– Pod çŠ¶æ€çš„ç»¼åˆæ±‡æ€»ï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†æˆä¸ºå®Œæ•´çš„çŠ¶æ€æœºã€‚</p><table><thead><tr><th><code>Pending</code>ï¼ˆæ‚¬å†³ï¼‰</th><th>Pod å·²è¢« Kubernetes ç³»ç»Ÿæ¥å—ï¼Œä½†æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨å°šæœªåˆ›å»ºäº¦æœªè¿è¡Œã€‚æ­¤é˜¶æ®µåŒ…æ‹¬ç­‰å¾… Pod è¢«è°ƒåº¦çš„æ—¶é—´å’Œé€šè¿‡ç½‘ç»œä¸‹è½½é•œåƒçš„æ—¶é—´ï¼Œ</th></tr></thead><tbody><tr><td><code>Running</code>ï¼ˆè¿è¡Œä¸­ï¼‰</td><td>Pod å·²ç»ç»‘å®šåˆ°äº†æŸä¸ªèŠ‚ç‚¹ï¼ŒPod ä¸­æ‰€æœ‰çš„å®¹å™¨éƒ½å·²è¢«åˆ›å»ºã€‚è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨ä»åœ¨è¿è¡Œï¼Œæˆ–è€…æ­£å¤„äºå¯åŠ¨æˆ–é‡å¯çŠ¶æ€ã€‚</td></tr><tr><td><code>Succeeded</code>ï¼ˆæˆåŠŸï¼‰</td><td>Pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²æˆåŠŸç»ˆæ­¢ï¼Œå¹¶ä¸”ä¸ä¼šå†é‡å¯ã€‚</td></tr><tr><td><code>Failed</code>ï¼ˆå¤±è´¥ï¼‰</td><td>Pod ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²ç»ˆæ­¢ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨æ˜¯å› ä¸ºå¤±è´¥ç»ˆæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¹å™¨ä»¥é 0 çŠ¶æ€é€€å‡ºæˆ–è€…è¢«ç³»ç»Ÿç»ˆæ­¢ã€‚</td></tr><tr><td><code>Unknown</code>ï¼ˆæœªçŸ¥ï¼‰</td><td>å› ä¸ºæŸäº›åŸå› æ— æ³•å–å¾— Pod çš„çŠ¶æ€ã€‚è¿™ç§æƒ…å†µé€šå¸¸æ˜¯å› ä¸ºä¸ Pod æ‰€åœ¨ä¸»æœºé€šä¿¡å¤±è´¥ã€‚</td></tr></tbody></table><p>å¦‚æœæŸèŠ‚ç‚¹æ­»æ‰æˆ–è€…ä¸é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹å¤±è”ï¼ŒKubernetes ä¼šå®æ–½ä¸€ç§ç­–ç•¥ï¼Œå°†å¤±å»çš„èŠ‚ç‚¹ä¸Šè¿è¡Œçš„æ‰€æœ‰ Pod ä¸º <code>Failed</code>ã€‚</p><blockquote><h4 id="å®¹å™¨çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨çŠ¶æ€" aria-hidden="true">#</a> å®¹å™¨çŠ¶æ€</h4></blockquote><p>Kubernetes ä¼šè·Ÿè¸ª Pod ä¸­æ¯ä¸ªå®¹å™¨çš„çŠ¶æ€ï¼Œå°±åƒå®ƒè·Ÿè¸ª Pod æ€»ä½“ä¸Šçš„<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase" target="_blank" rel="noopener noreferrer">é˜¶æ®µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸€æ ·ã€‚ ä½ å¯ä»¥ä½¿ç”¨<a href="https://kubernetes.io/zh/docs/concepts/containers/container-lifecycle-hooks/" target="_blank" rel="noopener noreferrer">å®¹å™¨ç”Ÿå‘½å‘¨æœŸå›è°ƒ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ¥åœ¨å®¹å™¨ç”Ÿå‘½å‘¨æœŸä¸­çš„ç‰¹å®šæ—¶é—´ç‚¹è§¦å‘äº‹ä»¶ã€‚</p><p>ä¸€æ—¦<a href="https://kubernetes.io/docs/reference/generated/kube-scheduler/" target="_blank" rel="noopener noreferrer">è°ƒåº¦å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å°† Pod åˆ†æ´¾ç»™æŸä¸ªèŠ‚ç‚¹ï¼Œ<code>kubelet</code> å°±é€šè¿‡ <a href="https://kubernetes.io/zh/docs/setup/production-environment/container-runtimes" target="_blank" rel="noopener noreferrer">å®¹å™¨è¿è¡Œæ—¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å¼€å§‹ä¸º Pod åˆ›å»ºå®¹å™¨ã€‚</p><p>å®¹å™¨çš„çŠ¶æ€æœ‰ä¸‰ç§ï¼š</p><ul><li><code>Waiting</code>ï¼ˆç­‰å¾…ï¼‰</li><li><code>Running</code>ï¼ˆè¿è¡Œä¸­ï¼‰</li><li><code>Terminated</code>ï¼ˆå·²ç»ˆæ­¢ï¼‰</li></ul><blockquote><h4 id="å®¹å™¨é‡å¯ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨é‡å¯ç­–ç•¥" aria-hidden="true">#</a> å®¹å™¨é‡å¯ç­–ç•¥</h4></blockquote><p>Pod çš„ <code>spec</code> ä¸­åŒ…å«ä¸€ä¸ª <code>restartPolicy</code> å­—æ®µï¼Œå…¶å¯èƒ½å–å€¼åŒ…æ‹¬ Alwaysã€OnFailure å’Œ Neverã€‚é»˜è®¤å€¼æ˜¯ Alwaysã€‚</p><p><code>restartPolicy</code> é€‚ç”¨äº Pod ä¸­çš„æ‰€æœ‰å®¹å™¨ã€‚<code>restartPolicy</code> ä»…é’ˆå¯¹åŒä¸€èŠ‚ç‚¹ä¸Š <code>kubelet</code> çš„å®¹å™¨é‡å¯åŠ¨ä½œã€‚å½“ Pod ä¸­çš„å®¹å™¨é€€å‡ºæ—¶ï¼Œ<code>kubelet</code> ä¼šæŒ‰æŒ‡æ•°å›é€€ æ–¹å¼è®¡ç®—é‡å¯çš„å»¶è¿Ÿï¼ˆ10sã€20sã€40sã€...ï¼‰ï¼Œå…¶æœ€é•¿å»¶è¿Ÿä¸º 5 åˆ†é’Ÿã€‚ ä¸€æ—¦æŸå®¹å™¨æ‰§è¡Œäº† 10 åˆ†é’Ÿå¹¶ä¸”æ²¡æœ‰å‡ºç°é—®é¢˜ï¼Œ<code>kubelet</code> å¯¹è¯¥å®¹å™¨çš„é‡å¯å›é€€è®¡æ—¶å™¨æ‰§è¡Œ é‡ç½®æ“ä½œã€‚</p><blockquote><h4 id="pod-çŠ¶å†µ" tabindex="-1"><a class="header-anchor" href="#pod-çŠ¶å†µ" aria-hidden="true">#</a> Pod çŠ¶å†µ</h4></blockquote><p>Pod æœ‰ä¸€ä¸ª PodStatus å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#podcondition-v1-core" target="_blank" rel="noopener noreferrer">PodConditions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ•°ç»„ã€‚Pod å¯èƒ½é€šè¿‡ä¹Ÿå¯èƒ½æœªé€šè¿‡å…¶ä¸­çš„ä¸€äº›çŠ¶å†µæµ‹è¯•ã€‚</p><ul><li><code>PodScheduled</code>ï¼šPod å·²ç»è¢«è°ƒåº¦åˆ°æŸèŠ‚ç‚¹ï¼›</li><li><code>ContainersReady</code>ï¼šPod ä¸­æ‰€æœ‰å®¹å™¨éƒ½å·²å°±ç»ªï¼›</li><li><code>Initialized</code>ï¼šæ‰€æœ‰çš„ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/init-containers/" target="_blank" rel="noopener noreferrer">Init å®¹å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> éƒ½å·²æˆåŠŸå¯åŠ¨ï¼›</li><li><code>Ready</code>ï¼šPod å¯ä»¥ä¸ºè¯·æ±‚æä¾›æœåŠ¡ï¼Œå¹¶ä¸”åº”è¯¥è¢«æ·»åŠ åˆ°å¯¹åº”æœåŠ¡çš„è´Ÿè½½å‡è¡¡æ± ä¸­</li></ul><table><thead><tr><th><code>type</code></th><th>Pod çŠ¶å†µçš„åç§°</th></tr></thead><tbody><tr><td><code>status</code></td><td>è¡¨æ˜è¯¥çŠ¶å†µæ˜¯å¦é€‚ç”¨ï¼Œå¯èƒ½çš„å–å€¼æœ‰ &quot;<code>True</code>&quot;, &quot;<code>False</code>&quot; æˆ– &quot;<code>Unknown</code>&quot;</td></tr><tr><td><code>lastProbeTime</code></td><td>ä¸Šæ¬¡æ¢æµ‹ Pod çŠ¶å†µæ—¶çš„æ—¶é—´æˆ³</td></tr><tr><td><code>lastTransitionTime</code></td><td>Pod ä¸Šæ¬¡ä»ä¸€ç§çŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ç§çŠ¶æ€æ—¶çš„æ—¶é—´æˆ³</td></tr><tr><td><code>reason</code></td><td>æœºå™¨å¯è¯»çš„ã€é©¼å³°ç¼–ç ï¼ˆUpperCamelCaseï¼‰çš„æ–‡å­—ï¼Œè¡¨è¿°ä¸Šæ¬¡çŠ¶å†µå˜åŒ–çš„åŸå› </td></tr><tr><td><code>message</code></td><td>äººç±»å¯è¯»çš„æ¶ˆæ¯ï¼Œç»™å‡ºä¸Šæ¬¡çŠ¶æ€è½¬æ¢çš„è¯¦ç»†ä¿¡æ¯</td></tr></tbody></table><blockquote><h4 id="pod-å°±ç»ªæ€" tabindex="-1"><a class="header-anchor" href="#pod-å°±ç»ªæ€" aria-hidden="true">#</a> Pod å°±ç»ªæ€</h4></blockquote><ul><li><p><strong>FEATURE STATE:</strong> <code>Kubernetes v1.14 [stable]</code></p></li><li><p>ä½ çš„åº”ç”¨å¯ä»¥å‘ PodStatus ä¸­æ³¨å…¥é¢å¤–çš„åé¦ˆæˆ–è€…ä¿¡å·ï¼š<em>Pod Readinessï¼ˆPod å°±ç»ªæ€ï¼‰</em>ã€‚ è¦ä½¿ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥è®¾ç½® Pod è§„çº¦ä¸­çš„ <code>readinessGates</code> åˆ—è¡¨ï¼Œä¸º kubelet æä¾›ä¸€ç»„é¢å¤–çš„çŠ¶å†µä¾›å…¶è¯„ä¼° Pod å°±ç»ªæ€æ—¶ä½¿ç”¨ã€‚</p></li><li><p>å°±ç»ªæ€é—¨æ§åŸºäº Pod çš„ <code>status.conditions</code> å­—æ®µçš„å½“å‰å€¼æ¥åšå†³å®šã€‚ å¦‚æœ Kubernetes æ— æ³•åœ¨ <code>status.conditions</code> å­—æ®µä¸­æ‰¾åˆ°æŸçŠ¶å†µï¼Œåˆ™è¯¥çŠ¶å†µçš„ çŠ¶æ€å€¼é»˜è®¤ä¸º &quot;<code>False</code>&quot;ã€‚</p></li></ul><h3 id="å®¹å™¨æ¢é’ˆ-1" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨æ¢é’ˆ-1" aria-hidden="true">#</a> å®¹å™¨æ¢é’ˆ</h3><p><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#probe-v1-core" target="_blank" rel="noopener noreferrer">Probe<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ˜¯ç”± <a href="https://kubernetes.io/zh/docs/reference/command-line-tools-reference/kubelet/" target="_blank" rel="noopener noreferrer">kubelet<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å¯¹å®¹å™¨æ‰§è¡Œçš„å®šæœŸè¯Šæ–­ã€‚ è¦æ‰§è¡Œè¯Šæ–­ï¼Œkubelet è°ƒç”¨ç”±å®¹å™¨å®ç°çš„ <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#handler-v1-core" target="_blank" rel="noopener noreferrer">Handler<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ï¼ˆå¤„ç†ç¨‹åºï¼‰ã€‚æœ‰ä¸‰ç§ç±»å‹çš„å¤„ç†ç¨‹åºï¼š</p><ul><li><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#execaction-v1-core" target="_blank" rel="noopener noreferrer">ExecAction<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼š åœ¨å®¹å™¨å†…æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ã€‚å¦‚æœå‘½ä»¤é€€å‡ºæ—¶è¿”å›ç ä¸º 0 åˆ™è®¤ä¸ºè¯Šæ–­æˆåŠŸã€‚</li><li><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#tcpsocketaction-v1-core" target="_blank" rel="noopener noreferrer">TCPSocketAction<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼š å¯¹å®¹å™¨çš„ IP åœ°å€ä¸Šçš„æŒ‡å®šç«¯å£æ‰§è¡Œ TCP æ£€æŸ¥ã€‚å¦‚æœç«¯å£æ‰“å¼€ï¼Œåˆ™è¯Šæ–­è¢«è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚</li><li><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#httpgetaction-v1-core" target="_blank" rel="noopener noreferrer">HTTPGetAction<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼š å¯¹å®¹å™¨çš„ IP åœ°å€ä¸ŠæŒ‡å®šç«¯å£å’Œè·¯å¾„æ‰§è¡Œ HTTP Get è¯·æ±‚ã€‚å¦‚æœå“åº”çš„çŠ¶æ€ç å¤§äºç­‰äº 200 ä¸”å°äº 400ï¼Œåˆ™è¯Šæ–­è¢«è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚</li></ul><p>æ¯æ¬¡æ¢æµ‹éƒ½å°†è·å¾—ä»¥ä¸‹ä¸‰ç§ç»“æœä¹‹ä¸€ï¼š</p><ul><li><code>Success</code>ï¼ˆæˆåŠŸï¼‰ï¼šå®¹å™¨é€šè¿‡äº†è¯Šæ–­ã€‚</li><li><code>Failure</code>ï¼ˆå¤±è´¥ï¼‰ï¼šå®¹å™¨æœªé€šè¿‡è¯Šæ–­ã€‚</li><li><code>Unknown</code>ï¼ˆæœªçŸ¥ï¼‰ï¼šè¯Šæ–­å¤±è´¥ï¼Œå› æ­¤ä¸ä¼šé‡‡å–ä»»ä½•è¡ŒåŠ¨ã€‚</li></ul><p>é’ˆå¯¹è¿è¡Œä¸­çš„å®¹å™¨ï¼Œ<code>kubelet</code> å¯ä»¥é€‰æ‹©æ˜¯å¦æ‰§è¡Œä»¥ä¸‹ä¸‰ç§æ¢é’ˆï¼Œä»¥åŠå¦‚ä½•é’ˆå¯¹æ¢æµ‹ç»“æœä½œå‡ºååº”ï¼š</p><ul><li><p><code>livenessProbe</code>ï¼šæŒ‡ç¤ºå®¹å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚å¦‚æœå­˜æ´»æ€æ¢æµ‹å¤±è´¥ï¼Œåˆ™ kubelet ä¼šæ€æ­»å®¹å™¨ï¼Œ å¹¶ä¸”å®¹å™¨å°†æ ¹æ®å…¶<a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy" target="_blank" rel="noopener noreferrer">é‡å¯ç­–ç•¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å†³å®šæœªæ¥ã€‚å¦‚æœå®¹å™¨ä¸æä¾›å­˜æ´»æ¢é’ˆï¼Œ åˆ™é»˜è®¤çŠ¶æ€ä¸º <code>Success</code>ã€‚</p></li><li><p><code>readinessProbe</code>ï¼šæŒ‡ç¤ºå®¹å™¨æ˜¯å¦å‡†å¤‡å¥½ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚å¦‚æœå°±ç»ªæ€æ¢æµ‹å¤±è´¥ï¼Œ ç«¯ç‚¹æ§åˆ¶å™¨å°†ä»ä¸ Pod åŒ¹é…çš„æ‰€æœ‰æœåŠ¡çš„ç«¯ç‚¹åˆ—è¡¨ä¸­åˆ é™¤è¯¥ Pod çš„ IP åœ°å€ã€‚ åˆå§‹å»¶è¿Ÿä¹‹å‰çš„å°±ç»ªæ€çš„çŠ¶æ€å€¼é»˜è®¤ä¸º <code>Failure</code>ã€‚ å¦‚æœå®¹å™¨ä¸æä¾›å°±ç»ªæ€æ¢é’ˆï¼Œåˆ™é»˜è®¤çŠ¶æ€ä¸º <code>Success</code>ã€‚</p></li><li><p><code>startupProbe</code>: æŒ‡ç¤ºå®¹å™¨ä¸­çš„åº”ç”¨æ˜¯å¦å·²ç»å¯åŠ¨ã€‚å¦‚æœæä¾›äº†å¯åŠ¨æ¢é’ˆï¼Œåˆ™æ‰€æœ‰å…¶ä»–æ¢é’ˆéƒ½ä¼šè¢« ç¦ç”¨ï¼Œç›´åˆ°æ­¤æ¢é’ˆæˆåŠŸä¸ºæ­¢ã€‚å¦‚æœå¯åŠ¨æ¢æµ‹å¤±è´¥ï¼Œ<code>kubelet</code> å°†æ€æ­»å®¹å™¨ï¼Œè€Œå®¹å™¨ä¾å…¶ <a href="https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy" target="_blank" rel="noopener noreferrer">é‡å¯ç­–ç•¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è¿›è¡Œé‡å¯ã€‚ å¦‚æœå®¹å™¨æ²¡æœ‰æä¾›å¯åŠ¨æ¢æµ‹ï¼Œåˆ™é»˜è®¤çŠ¶æ€ä¸º <code>Success</code>ã€‚</p></li><li><h4 id="ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ" tabindex="-1"><a class="header-anchor" href="#ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ" aria-hidden="true">#</a> ä½•æ—¶è¯¥ä½¿ç”¨å­˜æ´»æ€æ¢é’ˆ?</h4><ul><li><strong>FEATURE STATE:</strong> <code>Kubernetes v1.0 [stable]</code></li><li>å¦‚æœå®¹å™¨ä¸­çš„è¿›ç¨‹èƒ½å¤Ÿåœ¨é‡åˆ°é—®é¢˜æˆ–ä¸å¥åº·çš„æƒ…å†µä¸‹è‡ªè¡Œå´©æºƒï¼Œåˆ™ä¸ä¸€å®šéœ€è¦å­˜æ´»æ€æ¢é’ˆ; <code>kubelet</code> å°†æ ¹æ® Pod çš„<code>restartPolicy</code> è‡ªåŠ¨æ‰§è¡Œä¿®å¤æ“ä½œã€‚</li><li>å¦‚æœä½ å¸Œæœ›å®¹å™¨åœ¨æ¢æµ‹å¤±è´¥æ—¶è¢«æ€æ­»å¹¶é‡æ–°å¯åŠ¨ï¼Œé‚£ä¹ˆè¯·æŒ‡å®šä¸€ä¸ªå­˜æ´»æ€æ¢é’ˆï¼Œ å¹¶æŒ‡å®š<code>restartPolicy</code> ä¸º &quot;<code>Always</code>&quot; æˆ– &quot;<code>OnFailure</code>&quot;ã€‚</li></ul></li><li><h4 id="ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ" tabindex="-1"><a class="header-anchor" href="#ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ" aria-hidden="true">#</a> ä½•æ—¶è¯¥ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆ?</h4><ul><li><p><strong>FEATURE STATE:</strong> <code>Kubernetes v1.0 [stable]</code></p></li><li><p>å¦‚æœè¦ä»…åœ¨æ¢æµ‹æˆåŠŸæ—¶æ‰å¼€å§‹å‘ Pod å‘é€è¯·æ±‚æµé‡ï¼Œè¯·æŒ‡å®šå°±ç»ªæ€æ¢é’ˆã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±ç»ªæ€æ¢é’ˆå¯èƒ½ä¸å­˜æ´»æ€æ¢é’ˆç›¸åŒï¼Œä½†æ˜¯è§„çº¦ä¸­çš„å°±ç»ªæ€æ¢é’ˆçš„å­˜åœ¨æ„å‘³ç€ Pod å°†åœ¨å¯åŠ¨é˜¶æ®µä¸æ¥æ”¶ä»»ä½•æ•°æ®ï¼Œå¹¶ä¸”åªæœ‰åœ¨æ¢é’ˆæ¢æµ‹æˆåŠŸåæ‰å¼€å§‹æ¥æ”¶æ•°æ®ã€‚</p></li><li><p>å¦‚æœä½ å¸Œæœ›å®¹å™¨èƒ½å¤Ÿè‡ªè¡Œè¿›å…¥ç»´æŠ¤çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå°±ç»ªæ€æ¢é’ˆï¼Œæ£€æŸ¥æŸä¸ªç‰¹å®šäº å°±ç»ªæ€çš„å› æ­¤ä¸åŒäºå­˜æ´»æ€æ¢æµ‹çš„ç«¯ç‚¹ã€‚</p></li><li><p>å¦‚æœä½ çš„åº”ç”¨ç¨‹åºå¯¹åç«¯æœåŠ¡æœ‰ä¸¥æ ¼çš„ä¾èµ–æ€§ï¼Œä½ å¯ä»¥åŒæ—¶å®ç°å­˜æ´»æ€å’Œå°±ç»ªæ€æ¢é’ˆã€‚ å½“åº”ç”¨ç¨‹åºæœ¬èº«æ˜¯å¥åº·çš„ï¼Œå­˜æ´»æ€æ¢é’ˆæ£€æµ‹é€šè¿‡åï¼Œå°±ç»ªæ€æ¢é’ˆä¼šé¢å¤–æ£€æŸ¥æ¯ä¸ªæ‰€éœ€çš„åç«¯æœåŠ¡æ˜¯å¦å¯ç”¨ã€‚ è¿™å¯ä»¥å¸®åŠ©ä½ é¿å…å°†æµé‡å¯¼å‘åªèƒ½è¿”å›é”™è¯¯ä¿¡æ¯çš„ Podã€‚</p></li><li><p><strong>è¯´æ˜ï¼š</strong></p><p><strong><code>è¯·æ³¨æ„ï¼Œå¦‚æœä½ åªæ˜¯æƒ³åœ¨ Pod è¢«åˆ é™¤æ—¶èƒ½å¤Ÿæ’ç©ºè¯·æ±‚ï¼Œåˆ™ä¸ä¸€å®šéœ€è¦ä½¿ç”¨å°±ç»ªæ€æ¢é’ˆï¼› åœ¨åˆ é™¤ Pod æ—¶ï¼ŒPod ä¼šè‡ªåŠ¨å°†è‡ªèº«ç½®äºæœªå°±ç»ªçŠ¶æ€ï¼Œæ— è®ºå°±ç»ªæ€æ¢é’ˆæ˜¯å¦å­˜åœ¨ã€‚ ç­‰å¾… Pod ä¸­çš„å®¹å™¨åœæ­¢æœŸé—´ï¼ŒPod ä¼šä¸€ç›´å¤„äºæœªå°±ç»ªçŠ¶æ€ã€‚</code></strong></p></li></ul></li><li><h4 id="ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆ" tabindex="-1"><a class="header-anchor" href="#ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆ" aria-hidden="true">#</a> ä½•æ—¶è¯¥ä½¿ç”¨å¯åŠ¨æ¢é’ˆï¼Ÿ</h4><ul><li><p><strong>FEATURE STATE:</strong> <code>Kubernetes v1.18 [beta]</code></p></li><li><p>å¯¹äºæ‰€åŒ…å«çš„å®¹å™¨éœ€è¦è¾ƒé•¿æ—¶é—´æ‰èƒ½å¯åŠ¨å°±ç»ªçš„ Pod è€Œè¨€ï¼Œå¯åŠ¨æ¢é’ˆæ˜¯æœ‰ç”¨çš„ã€‚ ä½ ä¸å†éœ€è¦é…ç½®ä¸€ä¸ªè¾ƒé•¿çš„å­˜æ´»æ€æ¢æµ‹æ—¶é—´é—´éš”ï¼Œåªéœ€è¦è®¾ç½®å¦ä¸€ä¸ªç‹¬ç«‹çš„é…ç½®é€‰å®šï¼Œ å¯¹å¯åŠ¨æœŸé—´çš„å®¹å™¨æ‰§è¡Œæ¢æµ‹ï¼Œä»è€Œå…è®¸ä½¿ç”¨è¿œè¿œè¶…å‡ºå­˜æ´»æ€æ—¶é—´é—´éš”æ‰€å…è®¸çš„æ—¶é•¿ã€‚</p></li><li><p>å¦‚æœä½ çš„å®¹å™¨å¯åŠ¨æ—¶é—´é€šå¸¸è¶…å‡º <code>initialDelaySeconds + failureThreshold Ã— periodSeconds</code> æ€»å€¼ï¼Œä½ åº”è¯¥è®¾ç½®ä¸€ä¸ªå¯åŠ¨æ¢æµ‹ï¼Œå¯¹å­˜æ´»æ€æ¢é’ˆæ‰€ä½¿ç”¨çš„åŒä¸€ç«¯ç‚¹æ‰§è¡Œæ£€æŸ¥ã€‚ <code>periodSeconds</code> çš„é»˜è®¤å€¼æ˜¯ 10 ç§’ã€‚ä½ åº”è¯¥å°†å…¶ <code>failureThreshold</code> è®¾ç½®å¾—è¶³å¤Ÿé«˜ï¼Œ ä»¥ä¾¿å®¹å™¨æœ‰å……è¶³çš„æ—¶é—´å®Œæˆå¯åŠ¨ï¼Œå¹¶ä¸”é¿å…æ›´æ”¹å­˜æ´»æ€æ¢é’ˆæ‰€ä½¿ç”¨çš„é»˜è®¤å€¼ã€‚ è¿™ä¸€è®¾ç½®æœ‰åŠ©äºå‡å°‘æ­»é”çŠ¶å†µçš„å‘ç”Ÿã€‚</p></li></ul></li></ul><h3 id="podå¯¹è±¡-ç®¡ç†å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#podå¯¹è±¡-ç®¡ç†å‘½ä»¤" aria-hidden="true">#</a> Podå¯¹è±¡ï¼šç®¡ç†å‘½ä»¤</h3><p><strong>åˆ›å»ºPod</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># vim pod.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> container1
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx

$ kubectl apply  <span class="token punctuation">-</span>f pod.yaml 
pod/web created
$ kubectl get pods 
NAME   READY   STATUS    RESTARTS   AGE
web    1/1     Running   0          2m23s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹Pod</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl get pods 
$ kubectl describe pod <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹æ—¥å¿—</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl logs <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-c container<span class="token punctuation">]</span>
$ kubectl logs <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-c container<span class="token punctuation">]</span> <span class="token parameter variable">-f</span> 

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl logs web container1 </span>
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking <span class="token keyword">for</span> shell scripts <span class="token keyword">in</span> /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="token keyword">in</span> /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete<span class="token punctuation">;</span> ready <span class="token keyword">for</span> start up
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: using the &quot;epoll&quot; event method</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: nginx/1.21.3</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: built by gcc 8.3.0 (Debian 8.3.0-6) </span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: OS: Linux 3.10.0-862.2.3.el7.x86_64</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker processes</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 31</span>
<span class="token number">2021</span>/10/27 02:26:25 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 32</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¿›å…¥å®¹å™¨ç»ˆç«¯</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl <span class="token builtin class-name">exec</span> <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-c container<span class="token punctuation">]</span> <span class="token parameter variable">--bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ é™¤Pod</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl delete pod <span class="token operator">&lt;</span>Podåç§°<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="podå¯¹è±¡-é‡å¯ç­–ç•¥-å¥åº·æ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#podå¯¹è±¡-é‡å¯ç­–ç•¥-å¥åº·æ£€æŸ¥" aria-hidden="true">#</a> Podå¯¹è±¡ï¼šé‡å¯ç­–ç•¥+å¥åº·æ£€æŸ¥</h3><h3 id="é‡å¯ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#é‡å¯ç­–ç•¥" aria-hidden="true">#</a> <code>é‡å¯ç­–ç•¥</code></h3><ul><li><p><code>Alwaysï¼š</code> å½“å®¹å™¨ç»ˆæ­¢é€€å‡ºåï¼Œæ€»æ˜¯é‡å¯å®¹å™¨ï¼Œé»˜è®¤ç­–ç•¥ã€‚</p></li><li><p><code>OnFailureï¼š</code> å½“å®¹å™¨å¼‚å¸¸é€€å‡ºåï¼Œï¼ˆé€€å‡ºçŠ¶æ€ç é0ï¼‰æ—¶ï¼Œæ‰é‡å¯å®¹å™¨ã€‚</p></li><li><p><code>Neverï¼š</code> å½“å®¹å™¨ç»ˆæ­¢é€€å‡ºï¼Œä»ä¸é‡å¯å®¹å™¨ã€‚</p></li></ul><h3 id="å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹" aria-hidden="true">#</a> <code>å¥åº·æ£€æŸ¥æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹</code></h3><ul><li><p><code>livenessProbeï¼ˆå­˜æ´»æ£€æŸ¥ï¼‰ï¼š</code> å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œå°†æ€æ­»å®¹å™¨ï¼Œæ ¹æ®Podçš„restartPolicyæ¥æ“ä½œã€‚</p></li><li><p><code>readinessProbeï¼ˆå°±ç»ªæ£€æŸ¥ï¼‰ï¼š</code> å¦‚æœæ£€æŸ¥å¤±è´¥ï¼ŒKubernetesä¼šæŠŠPodä»service endpointsä¸­å‰”é™¤ã€‚</p></li></ul><h3 id="æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•" aria-hidden="true">#</a> <code>æ”¯æŒä»¥ä¸‹ä¸‰ç§æ£€æŸ¥æ–¹æ³•</code></h3><ul><li><p><code>httpGetï¼š</code> å‘é€httpè¯·æ±‚ï¼Œè¿”å›200-400èŒƒå›´çŠ¶æ€ç ä¸ºæˆåŠŸã€‚</p></li><li><p><code>execï¼š </code> æ‰§è¡ŒShellå‘½ä»¤è¿”å›çŠ¶æ€ç æ˜¯0ä¸ºæˆåŠŸã€‚</p></li><li><p><code>tcpSocketï¼š</code> å‘èµ·TCP Socketå»ºç«‹æˆåŠŸã€‚</p></li></ul><p><strong>ç«¯å£æ¢æµ‹</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat pod.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Always		   <span class="token comment">#é‡å¯ç­–ç•¥ </span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">name</span><span class="token punctuation">:</span> web
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
    <span class="token key atrule">readinessProbe</span><span class="token punctuation">:</span> 		   <span class="token comment">#ç«¯å£æ¢æµ‹</span>
      <span class="token key atrule">tcpSocket</span><span class="token punctuation">:</span> 
        <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span> 			   <span class="token comment">#æ¢æµ‹çš„ç«¯å£æ˜¯80	</span>
      <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>  <span class="token comment">#å¯åŠ¨å®¹å™¨åå¤šå°‘ç§’å¥åº·æ£€æŸ¥</span>
      <span class="token key atrule">periodSeconds</span><span class="token punctuation">:</span> <span class="token number">10</span>        <span class="token comment">#ä»¥åé—´éš”å¤šå°‘ç§’æ£€æŸ¥ä¸€æ¬¡</span>
        
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f pod.yaml        </span>
pod/web created
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  pods </span>
NAME   READY   STATUS    RESTARTS   AGE
web    0/1     Running   0          97s

éœ€è¦ç­‰åˆ°ç«¯å£æ¢æµ‹å®Œæˆä¹‹åæ‰èƒ½ready
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  pods </span>
NAME   READY   STATUS    RESTARTS   AGE
web    1/1     Running   0          97s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>httpè¯·æ±‚çš„å¥åº·æ£€æŸ¥</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># vim pod.yaml  </span>
      <span class="token key atrule">tcpSocket</span><span class="token punctuation">:</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">name</span><span class="token punctuation">:</span> web
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
    <span class="token key atrule">readinessProbe</span><span class="token punctuation">:</span>
      <span class="token key atrule">httpGet</span><span class="token punctuation">:</span>
        <span class="token key atrule">path</span><span class="token punctuation">:</span> /index.html
        <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>
      <span class="token key atrule">periodSeconds</span><span class="token punctuation">:</span> <span class="token number">10</span>
      

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f pod.yaml  </span>
pod/web created

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME   READY   STATUS    RESTARTS   AGE
web    0/1     Running   0          19s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹æ—¥å¿—æ£€æŸ¥æ˜¯å¦æœ‰å¥åº·æ£€æŸ¥æˆåŠŸ</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl logs web web -f </span>
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking <span class="token keyword">for</span> shell scripts <span class="token keyword">in</span> /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="token keyword">in</span> /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete<span class="token punctuation">;</span> ready <span class="token keyword">for</span> start up
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: using the &quot;epoll&quot; event method</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: nginx/1.21.3</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: built by gcc 8.3.0 (Debian 8.3.0-6) </span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: OS: Linux 3.10.0-862.2.3.el7.x86_64</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker processes</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 31</span>
<span class="token number">2021</span>/10/27 <span class="token number">12</span>:10:13 <span class="token punctuation">[</span>notice<span class="token punctuation">]</span> <span class="token number">1</span><span class="token comment">#1: start worker process 32</span>
<span class="token number">172.25</span>.253.138 - - <span class="token punctuation">[</span><span class="token number">27</span>/Oct/2021:12:10:45 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET /index.html HTTP/1.1&quot;</span> <span class="token number">200</span> <span class="token number">615</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;kube-probe/1.20&quot;</span> <span class="token string">&quot;-&quot;</span>
<span class="token number">172.25</span>.253.138 - - <span class="token punctuation">[</span><span class="token number">27</span>/Oct/2021:12:10:55 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET /index.html HTTP/1.1&quot;</span> <span class="token number">200</span> <span class="token number">615</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;kube-probe/1.20&quot;</span> <span class="token string">&quot;-&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ï¼šæ‰§è¡ŒShellå‘½ä»¤</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span> 
  <span class="token key atrule">exec</span><span class="token punctuation">:</span> 
    <span class="token key atrule">command</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> cat
    <span class="token punctuation">-</span> /tmp/healthy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ï¼šHTTPè¯·æ±‚</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span> 
  <span class="token key atrule">httpGet</span><span class="token punctuation">:</span> 
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /healthz 
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
    <span class="token key atrule">httpHeaders</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Custom<span class="token punctuation">-</span>Header
      <span class="token key atrule">value</span><span class="token punctuation">:</span> Awesome
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="podå¯¹è±¡-lnit-container" tabindex="-1"><a class="header-anchor" href="#podå¯¹è±¡-lnit-container" aria-hidden="true">#</a> Podå¯¹è±¡ï¼šlnit Container</h3><p><strong>lnit Containerï¼š é¡¾åæ€ä¹‰ï¼Œç”¨äºåˆå§‹åŒ–å·¥ä½œï¼Œæ‰§è¡Œå®Œå°±ç»“æŸï¼Œå¯ä»¥ç†è§£ä¸ºä¸€æ¬¡æ€§ä»»åŠ¡ã€‚</strong></p><ul><li><code>æ”¯æŒå¤§éƒ¨åˆ†åº”ç”¨å®¹å™¨é…ç½®ï¼Œä½†ä¸æ”¯æŒå¥åº·æ£€æŸ¥</code></li><li><code>ä¼˜å…ˆåº”ç”¨å®¹å™¨æ‰§è¡Œ</code></li></ul><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li><code>ç¯å¢ƒæ£€æŸ¥ï¼š ä¾‹å¦‚ç¡®ä¿åº”ç”¨å®¹å™¨ä¾èµ–çš„æœåŠ¡å¯åŠ¨åå†å¯åŠ¨åº”ç”¨å®¹å™¨</code></li><li><code>åˆå§‹åŒ–é…ç½®ï¼š ä¾‹å¦‚ç»™åº”ç”¨å®¹å™¨å‡†å¤‡é…ç½®æ–‡ä»¶</code></li></ul><p><strong>ç¤ºä¾‹ï¼šéƒ¨ç½²ä¸€ä¸ªwebç½‘ç«™ï¼Œç½‘ç«™ç¨‹åºæ²¡æœ‰æ‰“åŒ…åˆ°é•œåƒä¸­ï¼Œè€Œæ˜¯å¸Œæœ›ä»ä»£ç ä»“åº“ä¸­åŠ¨æ€æ‹‰å–æ”¾åˆ°åº”ç”¨å®¹å™¨ä¸­ã€‚</strong></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat init-container.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> init<span class="token punctuation">-</span>demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">initContainers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
    <span class="token key atrule">name</span><span class="token punctuation">:</span> init<span class="token punctuation">-</span>demo
    <span class="token key atrule">command</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> wget 
    <span class="token punctuation">-</span> <span class="token string">&quot;-O&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;/opt/index.html&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;http://www.ctnrs.com&quot;</span>
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> wwwroot
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/opt&quot;</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx 
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx 
    <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span> 
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> wwwroot 
      <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /usr/share/nginx/html 
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> wwwroot 
    <span class="token key atrule">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f init-container.yaml  </span>
pod/init-demo created
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å› æ­¤ï¼ŒPodä¸­ä¼šæœ‰è¿™å‡ ç§ç±»å‹çš„å®¹å™¨ï¼š</strong></p><ul><li><p><strong><code>Infrastructure Container:</code></strong> åŸºç¡€å®¹å™¨</p><ul><li>ç»´æŠ¤æ•´ä¸ªPodçš„ç½‘ç»œ</li></ul></li><li><p><strong><code>InitContainersï¼š</code></strong> åˆå§‹åŒ–å®¹å™¨</p><ul><li>å…ˆäºä¸šåŠ¡å®¹å™¨å¼€å§‹æ‰§è¡Œ</li></ul></li><li><p><strong><code>Containersï¼š</code></strong> ä¸šåŠ¡å®¹å™¨</p><ul><li>å¹¶è¡Œå¯åŠ¨</li></ul></li></ul><h3 id="podå¯¹è±¡-é™æ€pod" tabindex="-1"><a class="header-anchor" href="#podå¯¹è±¡-é™æ€pod" aria-hidden="true">#</a> Podå¯¹è±¡ï¼šé™æ€Pod</h3><ul><li><p><em>é™æ€ Podï¼ˆStatic Podï¼‰</em> ç›´æ¥ç”±ç‰¹å®šèŠ‚ç‚¹ä¸Šçš„ <code>kubelet</code> å®ˆæŠ¤è¿›ç¨‹ç®¡ç†ï¼Œ ä¸éœ€è¦<a href="https://kubernetes.io/zh/docs/reference/command-line-tools-reference/kube-apiserver/" target="_blank" rel="noopener noreferrer">API æœåŠ¡å™¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>çœ‹åˆ°å®ƒä»¬ã€‚ å°½ç®¡å¤§å¤šæ•° Pod éƒ½æ˜¯é€šè¿‡æ§åˆ¶é¢ï¼ˆä¾‹å¦‚ï¼Œ<a href="https://kubernetes.io/zh/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰ æ¥ç®¡ç†çš„ï¼Œå¯¹äºé™æ€ Pod è€Œè¨€ï¼Œ<code>kubelet</code> ç›´æ¥ç›‘æ§æ¯ä¸ª Podï¼Œå¹¶åœ¨å…¶å¤±æ•ˆæ—¶é‡å¯ä¹‹ã€‚</p></li><li><p>é™æ€ Pod é€šå¸¸ç»‘å®šåˆ°æŸä¸ªèŠ‚ç‚¹ä¸Šçš„ <a href="https://kubernetes.io/docs/reference/generated/kubelet" target="_blank" rel="noopener noreferrer">kubelet<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚ å…¶ä¸»è¦ç”¨é€”æ˜¯è¿è¡Œè‡ªæ‰˜ç®¡çš„æ§åˆ¶é¢ã€‚ åœ¨è‡ªæ‰˜ç®¡åœºæ™¯ä¸­ï¼Œä½¿ç”¨ <code>kubelet</code> æ¥ç®¡ç†å„ä¸ªç‹¬ç«‹çš„ <a href="https://kubernetes.io/zh/docs/concepts/overview/components/#control-plane-components" target="_blank" rel="noopener noreferrer">æ§åˆ¶é¢ç»„ä»¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p></li><li><p><code>kubelet</code> è‡ªåŠ¨å°è¯•ä¸ºæ¯ä¸ªé™æ€ Pod åœ¨ Kubernetes API æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ª <a href="https://kubernetes.io/zh/docs/reference/glossary/?all=true#term-mirror-pod" target="_blank" rel="noopener noreferrer">é•œåƒ Pod<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚ è¿™æ„å‘³ç€åœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œçš„ Pod åœ¨ API æœåŠ¡å™¨ä¸Šæ˜¯å¯è§çš„ï¼Œä½†ä¸å¯ä»¥é€šè¿‡ API æœåŠ¡å™¨æ¥æ§åˆ¶ã€‚</p></li><li><p><strong>è¯´æ˜ï¼š</strong></p><p>é™æ€ Pod çš„ <code>spec</code> ä¸èƒ½å¼•ç”¨å…¶ä»–çš„ API å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼š<a href="https://kubernetes.io/zh/docs/tasks/configure-pod-container/configure-service-account/" target="_blank" rel="noopener noreferrer">ServiceAccount<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€<a href="https://kubernetes.io/zh/docs/tasks/configure-pod-container/configure-pod-configmap/" target="_blank" rel="noopener noreferrer">ConfigMap<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€<a href="https://kubernetes.io/zh/docs/concepts/configuration/secret/" target="_blank" rel="noopener noreferrer">Secret<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ç­‰ï¼‰ã€‚</p></li></ul><h3 id="é™æ€podçš„ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#é™æ€podçš„ç‰¹ç‚¹" aria-hidden="true">#</a> é™æ€Podçš„ç‰¹ç‚¹ï¼š</h3><ul><li><strong>Podç”±ç‰¹å®šèŠ‚ç‚¹ä¸Šçš„kubeletç®¡ç†</strong></li><li><strong>ä¸èƒ½ä½¿ç”¨æ§åˆ¶å™¨</strong></li><li><strong>Podçš„åç§°æ ‡è¯†å½“å‰èŠ‚ç‚¹çš„åç§°</strong></li><li><strong>åœ¨kubeletçš„é…ç½®æ–‡ä»¶ä¸‹å¯åŠ¨Podæ— æ³•ä½¿ç”¨kubectlåˆ é™¤ï¼Œåªèƒ½åˆ é™¤yamlæ–‡ä»¶ï¼Œæ–¹ä¾¿æ›´æ–°æ•°æ®</strong></li></ul><h3 id="åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€pod" tabindex="-1"><a class="header-anchor" href="#åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€pod" aria-hidden="true">#</a> åœ¨kubeleté…ç½®æ–‡ä»¶ä¸­å¯ç”¨é™æ€Podï¼š</h3><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code>[root@master ~]# cat /var/lib/kubelet/config.yaml | grep staticPodPath:
<span class="token header"><span class="token header-name keyword">staticPodPath</span><span class="token punctuation">:</span> <span class="token header-value">/etc/kubernetes/manifests</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/kubernetes/manifests/</span>
<span class="token punctuation">[</span>root@master manifests<span class="token punctuation">]</span><span class="token comment"># vim pod.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">run</span><span class="token punctuation">:</span> mypod1
  <span class="token key atrule">name</span><span class="token punctuation">:</span> static<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
    <span class="token key atrule">name</span><span class="token punctuation">:</span> mypod1
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/bin/sh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sleep 360000&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="deployment" tabindex="-1"><a class="header-anchor" href="#deployment" aria-hidden="true">#</a> Deployment</h2><img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1c2.png" style="zoom:67%;"><h3 id="deployment-åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹" tabindex="-1"><a class="header-anchor" href="#deployment-åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹" aria-hidden="true">#</a> Deploymentï¼šåº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹</h3><img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1cb.png" style="zoom:67%;"><h3 id="deployment-éƒ¨ç½²åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#deployment-éƒ¨ç½²åº”ç”¨" aria-hidden="true">#</a> Deploymentï¼šéƒ¨ç½²åº”ç”¨</h3><ul><li><strong>åˆ›å»ºdeploymentçš„yamlæ–‡ä»¶</strong></li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat deployment.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> default
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span> 				<span class="token comment"># Podå‰¯æœ¬é¢„æœŸæ•°é‡</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> web
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> web 			<span class="token comment"># Podå‰¯æœ¬çš„æ ‡ç­¾</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> web
        <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>éƒ¨ç½²nginxé•œåƒ</strong></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f deployment.yaml  </span>
deployment.apps/web unchanged
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  deployment </span>
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
web    <span class="token number">2</span>/3     <span class="token number">2</span>            <span class="token number">2</span>           3m
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deployment-æ»šåŠ¨å‡çº§" tabindex="-1"><a class="header-anchor" href="#deployment-æ»šåŠ¨å‡çº§" aria-hidden="true">#</a> Deploymentï¼šæ»šåŠ¨å‡çº§</h3><p><strong><code>ç¬¬äºŒæ­¥ï¼šåº”ç”¨å‡çº§ï¼ˆæ›´æ–°é•œåƒä¸‰ç§æ–¹å¼ï¼‰</code></strong></p><ul><li>kubectl apply -f xxx.yaml</li><li>kubectl set image deployment/web nginx=nginx:1.16</li><li>kubectl edit deployment/web</li><li>æ»šåŠ¨å‡çº§ï¼šK8så¯¹Podå‡çº§çš„é»˜è®¤ç­–ç•¥ï¼Œé€šè¿‡ä½¿ ç”¨æ–°ç‰ˆæœ¬Podé€æ­¥æ›´æ–°æ—§ç‰ˆæœ¬Podï¼Œå®ç°é›¶åœæœº å‘å¸ƒï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ã€‚</li></ul><p><strong>ä½¿ç”¨kubectl setå®ç°æ»šåŠ¨å‡çº§</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment">#  kubectl set image deployment/web  web=nginx:1.16  </span>
deployment.apps/web image updated
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.imgdb.cn/item/61ebecb52ab3f51d9113a1d3.png" style="zoom:67%;"><h3 id="deployment-æ°´å¹³æ‰©ç¼©å®¹" tabindex="-1"><a class="header-anchor" href="#deployment-æ°´å¹³æ‰©ç¼©å®¹" aria-hidden="true">#</a> Deploymentï¼šæ°´å¹³æ‰©ç¼©å®¹</h3><p><strong><code>ç¬¬ä¸‰æ­¥ï¼šæ°´å¹³æ‰©ç¼©å®¹ï¼ˆå¯åŠ¨å¤šå®ä¾‹ï¼Œæé«˜å¹¶å‘ï¼‰</code></strong></p><ul><li><p>ä¿®æ”¹yamlé‡Œreplicaså€¼ï¼Œå†apply</p></li><li><p>kubectl scale deployment web --replicas=10</p><p>æ³¨ï¼šreplicaså‚æ•°æ§åˆ¶Podå‰¯æœ¬æ•°é‡</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl scale deployment/web --replicas=10 </span>
deployment.apps/web scaled

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  deployment</span>
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
web    <span class="token number">2</span>/10    <span class="token number">0</span>            <span class="token number">2</span>           16m
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deployment-å›æ»š" tabindex="-1"><a class="header-anchor" href="#deployment-å›æ»š" aria-hidden="true">#</a> Deploymentï¼šå›æ»š</h3><p><strong><code>ç¬¬å››æ­¥ï¼šå›æ»šï¼ˆå‘å¸ƒå¤±è´¥æ¢å¤æ­£å¸¸ç‰ˆæœ¬ï¼‰</code></strong></p><ul><li>kubectl rollout history deployment/web # æŸ¥çœ‹å†å²å‘å¸ƒç‰ˆæœ¬</li><li>kubectl rollout undo deployment/web # å›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬</li><li>kubectl rollout undo deployment/web --to-revision=2 # å›æ»šå†å²æŒ‡å®šç‰ˆæœ¬</li><li>æ³¨ï¼šå›æ»šæ˜¯é‡æ–°éƒ¨ç½²æŸä¸€æ¬¡éƒ¨ç½²æ—¶çš„çŠ¶æ€ï¼Œå³å½“æ—¶ç‰ˆæœ¬æ‰€æœ‰é…ç½®</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl rollout history deployment/web </span>
deployment.apps/web 
REVISION  CHANGE-CAUSE
<span class="token number">1</span>         <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
<span class="token number">2</span>         <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl rollout undo deployment/web        </span>
deployment.apps/web rolled back

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl rollout undo deployment/web --to-revision=2 </span>
deployment.apps/web rolled back
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deployment-åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#deployment-åˆ é™¤" aria-hidden="true">#</a> Deploymentï¼šåˆ é™¤</h3><p><strong><code>æœ€åï¼Œé¡¹ç›®ä¸‹çº¿ï¼š</code></strong></p><ul><li>kubectl delete deploy/web</li><li>kubectl delete svc/web</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete deployment/web </span>
deployment.apps <span class="token string">&quot;web&quot;</span> deleted
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deployment-æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#deployment-æ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶" aria-hidden="true">#</a> Deploymentï¼šæ»šåŠ¨å‡çº§ä¸å›æ»šå®ç°æœºåˆ¶</h3><p><strong><code>æ»šåŠ¨æ›´æ–°ç­–ç•¥</code></strong></p><p>æ¯æ¬¡åªå‡çº§ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡ï¼Œå‡çº§å®ŒæˆåŠ å…¥ç”Ÿäº§ç¯å¢ƒï¼Œä¸æ–­æ‰§è¡Œè¿™ä¸ªè¿‡ ç¨‹ï¼Œç›´åˆ°é›†ç¾¤ä¸­çš„å…¨éƒ¨æ—§ç‰ˆå‡çº§æ–°ç‰ˆæœ¬ã€‚</p><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ul><li>ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œå¹³æ»‘è¿‡æ¸¡</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>éƒ¨ç½²å‘¨æœŸé•¿</li><li>å‘å¸ƒç­–ç•¥è¾ƒå¤æ‚</li></ul><h2 id="replicationcontrollerå’Œreplicaset" tabindex="-1"><a class="header-anchor" href="#replicationcontrollerå’Œreplicaset" aria-hidden="true">#</a> ReplicationControllerå’ŒReplicaSet</h2><h3 id="replicationcontroller" tabindex="-1"><a class="header-anchor" href="#replicationcontroller" aria-hidden="true">#</a> ReplicationController</h3><ul><li><code>å®é™…å·¥ä½œä¸­ï¼Œå¾ˆå°‘å•ç‹¬æ“ä½œPodçš„ï¼Œä¹‹æ‰€ä»¥k8sèƒ½å¤Ÿâ€œè‡ªæ„ˆâ€ï¼Œå°±æ˜¯é€šè¿‡rcï¼ˆReplicationControllerï¼‰ã€rsï¼ˆReplicaSetï¼‰ã€Deploymentç­‰è¿™äº›ç»„ä»¶ï¼Œå†åŠ ä¸Šk8sæ ¸å¿ƒcontrollerå·¥ä½œæœºåˆ¶æ¥å®ç°çš„ã€‚</code></li><li><code>ReplicationControllerï¼ˆç®€ç§°ä¸ºRCï¼‰ã€‚</code> åœ¨æ—§ç‰ˆæœ¬çš„Kubernetesä¸­ï¼Œåªæœ‰ReplicationControllerå¯¹è±¡ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ç¡®ä¿Podä»¥ä½ æŒ‡å®šçš„å‰¯æœ¬æ•°è¿è¡Œï¼Œå³å¦‚æœæœ‰å®¹å™¨å¼‚å¸¸é€€å‡ºï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„ Pod æ¥æ›¿ä»£ï¼›è€Œå¼‚å¸¸å¤šå‡ºæ¥çš„å®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨å›æ”¶ã€‚å¯ä»¥è¯´ï¼Œé€šè¿‡ReplicationControllerï¼ŒKuberneteså®ç°äº†é›†ç¾¤çš„é«˜å¯ç”¨æ€§ã€‚</li><li><code>ReplicationControllerï¼ˆrcï¼‰åœ¨æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œå·²ç»è¢«ReplicaSetï¼ˆrsï¼‰æ›¿æ¢äº†ï¼Œç›¸å¯¹äºrcï¼Œrsæœ‰æ›´å¥½çš„æ ‡ç­¾æ§åˆ¶ç­–ç•¥ã€‚</code>å¯¹äºpodå‰¯æœ¬çš„æ§åˆ¶ä½œç”¨ï¼Œrså’Œrcçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚**</li></ul><h3 id="replicationcontrollerçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#replicationcontrollerçš„ä½¿ç”¨" aria-hidden="true">#</a> ReplicationControllerçš„ä½¿ç”¨</h3><ul><li>åˆ›å»ºä¸€ä¸ªRC</li><li>å¿«é€Ÿç”Ÿæˆä¸€ä¸ªdeploymentç„¶åä¿®æ”¹ç±»å‹ä¸ºreplicationcontroller</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat  nginx.yaml 									</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1						<span class="token comment">#apiçš„ç‰ˆæœ¬ç”¨v1ï¼Œdeploymenté»˜è®¤æ˜¯apps/v1</span>
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicationController			<span class="token comment">#æŒ‡å®šèµ„æºç±»å‹æ˜¯ReplicationController</span>
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>rc
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>						<span class="token comment">#å‰¯æœ¬æ§åˆ¶åœ¨3</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>rc					<span class="token comment">#æ ‡ç­¾é€‰æ‹©å™¨</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>rc
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f replicationcontroller.yaml </span>
replicationcontroller/test<span class="token punctuation">-</span>rc created
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>éªŒè¯æ“ä½œ</strong></p><ul><li>æŸ¥çœ‹ç”Ÿæˆçš„rcï¼ŒæŸ¥çœ‹podå‰¯æœ¬æ•°ã€‚</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete rc nginx-demo </span>
replicationcontroller <span class="token string">&quot;nginx-demo&quot;</span> deleted
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get rc</span>
NAME      DESIRED   CURRENT   READY   AGE
test-rc   <span class="token number">3</span>         <span class="token number">3</span>         <span class="token number">3</span>       2m53s
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS    RESTARTS   AGE
test-rc-v952c   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-vr252   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-x42p9   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ“ä½œpodï¼ŒéªŒè¯rcçš„å‰¯æœ¬æ§åˆ¶æ•ˆæœã€‚</p></blockquote><ul><li>å¯ä»¥ç›´æ¥åˆ é™¤podï¼Œä½†ç”±äºrcè®¾ç½®äº†ç›®æ ‡å‰¯æœ¬æ•°â€”â€”3ä¸ªï¼Œæ‰€ä»¥ä½¿ç”¨kubectl deleteå‘½ä»¤åˆ é™¤podåï¼Œåˆä¼šé©¬ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„podï¼Œä»¥ä¾¿ç»´æŒ3ä¸ªå‰¯æœ¬ã€‚</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS    RESTARTS   AGE
test-rc-v952c   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-vr252   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
test-rc-x42p9   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete pods --all</span>
pod <span class="token string">&quot;test-rc-v952c&quot;</span> deleted
pod <span class="token string">&quot;test-rc-vr252&quot;</span> deleted
pod <span class="token string">&quot;test-rc-x42p9&quot;</span> deleted

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS              RESTARTS   AGE
test-rc-dwqpf   <span class="token number">0</span>/1     ContainerCreating   <span class="token number">0</span>          19s
test-rc-r2pjp   <span class="token number">0</span>/1     ContainerCreating   <span class="token number">0</span>          19s
test-rc-s4j58   <span class="token number">1</span>/1     Running             <span class="token number">0</span>          19s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹" tabindex="-1"><a class="header-anchor" href="#ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹" aria-hidden="true">#</a> <strong>ä¾¿æ·çš„è¿›è¡Œæ‰©å®¹å’Œç¼©å®¹</strong></h3><ul><li>å¯¹å…¶Podè¿›è¡Œæ‰©å±•ä¼¸ç¼©ï¼Œæ‰©å±•åˆ°5ä¸ªå‰¯æœ¬</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl scale replicationcontroller test-rc --replicas=5</span>
replicationcontroller/test-rc scaled

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME            READY   STATUS    RESTARTS   AGE
test-rc-dwqpf   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          2m12s
test-rc-f75hw   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33s
test-rc-r2pjp   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          2m12s
test-rc-s4j58   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          2m12s
test-rc-w6tdr   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="replicaset" tabindex="-1"><a class="header-anchor" href="#replicaset" aria-hidden="true">#</a> ReplicaSet</h2><ul><li><p><strong>Kuberneteså®˜æ–¹å¼ºçƒˆå»ºè®®é¿å…ç›´æ¥ä½¿ç”¨ReplicaSetï¼Œè€Œåº”è¯¥é€šè¿‡Deploymentæ¥åˆ›å»ºRSå’ŒPodã€‚ç”±äºReplicaSetæ˜¯ReplicationControllerçš„ä»£æ›¿ç‰©ï¼Œå› æ­¤ç”¨æ³•åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºReplicaSetæ”¯æŒé›†åˆå¼çš„selectorã€‚</strong></p></li><li><p><strong>ä½œä¸ºReplicationControllerçš„ä¸‹ä¸€ä»£ï¼Œæ”¯æŒæ–°çš„åŸºäºé›†åˆçš„æ ‡ç­¾é€‰æ‹©ç®—ç¬¦ã€‚</strong></p></li></ul><h3 id="replicasetæ§åˆ¶å™¨ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#replicasetæ§åˆ¶å™¨ç”¨é€”" aria-hidden="true">#</a> <strong>ReplicaSetæ§åˆ¶å™¨ç”¨é€”ï¼š</strong></h3><p><strong>Podå‰¯æœ¬æ•°é‡ç®¡ç†ï¼Œä¸æ–­å¯¹æ¯”å½“å‰Podæ•°é‡ä¸æœŸæœ›Podæ•°é‡</strong></p><p><strong>Deploymentæ¯æ¬¡å‘å¸ƒéƒ½ä¼šåˆ›å»ºä¸€ä¸ªRSä½œä¸ºè®°å½•ï¼Œç”¨äºå®ç°å›æ»š</strong></p><ul><li><strong>kubectl get rs #æŸ¥çœ‹RSè®°å½•</strong></li><li><strong>kubectl rollout history deployment web #ç‰ˆæœ¬å¯¹åº”RSè®°å½•</strong></li></ul><h3 id="replicasetçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#replicasetçš„ä½¿ç”¨" aria-hidden="true">#</a> ReplicaSetçš„ä½¿ç”¨</h3><ul><li><p>åˆ›å»ºä¸€ä¸ªRS</p></li><li><p>åˆ›å»ºä¸€ä¸ªreplicasetçš„yaml</p></li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat replicaset.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicaSet
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">tier</span><span class="token punctuation">:</span> frontend
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">tier</span><span class="token punctuation">:</span> fronted
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">tier</span><span class="token punctuation">:</span> fronted
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f replicaset.yaml </span>
replicaset.apps/nginx created
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¡ŒéªŒè¯replicasetå’Œpodsçš„æ•°é‡</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get replicaset</span>
NAME    DESIRED   CURRENT   READY   AGE
nginx   <span class="token number">3</span>         <span class="token number">3</span>         <span class="token number">3</span>       3m1s

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get  pods</span>
NAME          READY   STATUS    RESTARTS   AGE
nginx-75rjb   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m6s
nginx-87ncr   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m6s
nginx-xsw76   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          3m6s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###ReplicaSetçš„ä¼¸ç¼©</p><ul><li><p><code>ä½¿ç”¨Horizontal Pod Autoscalerï¼ˆHPAï¼‰</code></p></li><li><p>RSå¯ä»¥é€šè¿‡HPAæ¥æ ¹æ®ä¸€äº›è¿è¡Œæ—¶æŒ‡æ ‡å®ç°è‡ªåŠ¨ä¼¸ç¼©ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p></li><li><p>ä¸‹é¢çš„æè¿°æ–‡ä»¶ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºfrontend-scalerçš„HorizontalPodAutoscalerï¼Œå®ƒä¼šæ ¹æ®CPUçš„è¿è¡Œå‚æ•°æ¥å¯¹åä¸ºfrontendçš„RSè¿›è¡Œè‡ªåŠ¨ä¼¸ç¼©ã€‚</p></li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat  hpa.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> autoscaling/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> HorizontalPodAutoscaler
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend<span class="token punctuation">-</span>scaler
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">scaleTargetRef</span><span class="token punctuation">:</span>
    <span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicaSet
    <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend			<span class="token comment">#è¿™é‡Œå°±å¯ä»¥ç»‘å®šä¸Šé¢çš„æ ‡è®°å¯¹åº”çš„frontend</span>
  <span class="token key atrule">minReplicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">maxReplicas</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token key atrule">targetCPUUtilizationPercentage</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹hpaçš„è¯¦ç»†</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f hpa.yaml </span>
horizontalpodautoscaler.autoscaling/frontend-scaler created

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get hpa </span>
NAME              REFERENCE             TARGETS         MINPODS   MAXPODS   REPLICAS   AGE
frontend-scaler   ReplicaSet/frontend   <span class="token operator">&lt;</span>unknown<span class="token operator">&gt;</span>/50%   <span class="token number">3</span>         <span class="token number">10</span>        <span class="token number">0</span>          5s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>æœ€åæˆ‘ä»¬æ€»ç»“ä¸‹å…³äº RC / RS çš„â¼€äº›ç‰¹æ€§å’Œä½œâ½¤å§ï¼š</p></li><li><p>â¼¤éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰â¼€ä¸ª RC å®ç°çš„ Pod çš„åˆ›å»ºå’Œå‰¯æœ¬æ•°</p></li><li><p>RC ä¸­åŒ…å«â¼€ä¸ªå®Œæ•´çš„ Pod å®šä¹‰æ¨¡å—ï¼ˆä¸åŒ…å« apiversion å’Œ kind)</p></li><li><p>RC æ˜¯é€šè¿‡ label selector æœºåˆ¶æ¥å®ç°å¯¹ Pod å‰¯æœ¬</p></li><li><p>é€šè¿‡æ”¹å˜ RC â¾¥â¾¯çš„ Pod å‰¯æœ¬æ•°é‡ï¼Œå¯ä»¥å®ç° Pod çš„æ‰©</p></li><li><p>é€šè¿‡æ”¹å˜ RC â¾¥â¾¯çš„ Pod æ¨¡æ¿ä¸­é•œåƒç‰ˆæœ¬ï¼Œå¯ä»¥å®ç° Pod çš„æ»šåŠ¨å‡çº§åŠŸèƒ½ï¼ˆä½†æ˜¯ä¸â½€æŒâ¼€é”®å› æ»šï¼Œéœ€è¦â½¤ç›¸åŒçš„â½…æ³•å»ä¿®æ”¹é•œåƒåœ°å€ï¼‰</p></li></ul><h2 id="hpa" tabindex="-1"><a class="header-anchor" href="#hpa" aria-hidden="true">#</a> HPA</h2><h3 id="hpaçš„ç®€è¦æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#hpaçš„ç®€è¦æ¦‚è¿°" aria-hidden="true">#</a> HPAçš„ç®€è¦æ¦‚è¿°</h3><ul><li>Kubernetes ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·â¼€ä¸ªèµ„æºå¯¹è±¡ï¼š <code>Horizontal Pod Autoscaling ï¼ˆPodâ½”å¹³â¾ƒåŠ¨ ä¼¸ç¼©ï¼‰</code>ï¼Œç®€ç§° HPA ã€‚ HAP é€šè¿‡ç›‘æ§åˆ†æ RC æˆ–è€… Deployment æ§åˆ¶çš„æ‰€æœ‰ Pod çš„è´Ÿè½½å˜åŒ–æƒ…å†µæ¥ç¡®å®š æ˜¯å¦éœ€è¦è°ƒæ•´ Pod çš„å‰¯æœ¬æ•°é‡ï¼Œè¿™æ˜¯ HPA æœ€åŸºæœ¬çš„åŸç†ã€‚</li></ul><img src="https://pic.imgdb.cn/item/61ebeefb2ab3f51d9115f0d9.png" style="zoom:67%;"><ul><li><p>HPA åœ¨ kubernetes é›†ç¾¤ä¸­è¢«è®¾è®¡æˆâ¼€ä¸ª controller ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„é€šè¿‡ kubectl autoscale å‘½ä»¤ æ¥åˆ›å»ºâ¼€ä¸ª HPA èµ„æºå¯¹è±¡ï¼Œ HPA Controller é»˜è®¤30sè½®è¯¢â¼€æ¬¡ï¼ˆå¯é€šè¿‡ kube-controller-manager çš„æ ‡å¿— --horizontal-pod-autoscaler-sync-period è¿›â¾è®¾ç½®ï¼‰ï¼ŒæŸ¥è¯¢æŒ‡å®šçš„èµ„æºï¼ˆRCæˆ–è€… Deploymentï¼‰ä¸­ Pod çš„èµ„æºä½¿â½¤ç‡ï¼Œå¹¶ä¸”ä¸åˆ›å»ºæ—¶è®¾å®šçš„å€¼å’ŒæŒ‡æ ‡åšå¯¹â½ï¼Œä»â½½å®ç°â¾ƒåŠ¨ä¼¸ç¼©çš„åŠŸèƒ½ã€‚</p></li><li><p>ç›®å‰ä¸»è¦åˆ†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œautoscaling/v1å’Œautoscaling/v2beta2ï¼Œv1ç‰ˆæœ¬åªæ”¯æŒ cpuï¼Œv2beta2ç‰ˆæœ¬æ”¯æŒ è‡ªå®šä¹‰ ï¼Œå†…å­˜ ï¼Œä½†æ˜¯ç›®å‰ä¹Ÿä»…ä»…æ˜¯å¤„äºbetaé˜¶æ®µã€‚</p></li></ul><h3 id="å®‰è£…metrics-server" tabindex="-1"><a class="header-anchor" href="#å®‰è£…metrics-server" aria-hidden="true">#</a> å®‰è£…Metrics Server</h3><ul><li><p><code>HPAéœ€è¦ä»Metrics Serverä¸­è·å–Podçš„CPUå’Œå†…å­˜Metricsï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦è¾¾åˆ°è‡ªåŠ¨ä¼¸ç¼©é˜ˆå€¼ã€‚</code></p></li><li><p>Kubernetesé›†ç¾¤ä½¿ç”¨Metrics Serveræ¥é‡‡é›†å®¹å™¨çš„CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç”¨æ¥ç›‘æ§Nodeå’ŒPodçš„CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¹¶ç”¨ä½œHPAï¼ˆè‡ªåŠ¨æ¨ªå‘æ‰©å±•ï¼‰ã€‚</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># wget https://github.com/kubernetes-sigs/metrics-server/releases/download/v0.3.7/components.yaml</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># vim components.yaml</span>
<span class="token punctuation">...</span>
<span class="token key atrule">containers</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> metrics<span class="token punctuation">-</span>server
<span class="token key atrule">image</span><span class="token punctuation">:</span> lizhenliang/metrics<span class="token punctuation">-</span>server<span class="token punctuation">:</span>v0.3.7 					<span class="token comment">#ä¿®æ”¹é•œåƒ</span>
<span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent
<span class="token key atrule">args</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>cert<span class="token punctuation">-</span>dir=/tmp
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>secure<span class="token punctuation">-</span>port=4443
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>kubelet<span class="token punctuation">-</span>insecure<span class="token punctuation">-</span>tls									<span class="token comment">#ä¸éªŒè¯kubeletæä¾›çš„httpsè¯ä¹¦</span>
<span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>kubelet<span class="token punctuation">-</span>preferred<span class="token punctuation">-</span>address<span class="token punctuation">-</span>types=InternalIP				<span class="token comment">#ä½¿ç”¨èŠ‚ç‚¹IPè¿æ¥kubelet</span>
<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete -f components.yaml </span>
clusterrole.rbac.authorization.k8s.io <span class="token string">&quot;system:aggregated-metrics-reader&quot;</span> deleted
clusterrolebinding.rbac.authorization.k8s.io <span class="token string">&quot;metrics-server:system:auth-delegator&quot;</span> deleted
rolebinding.rbac.authorization.k8s.io <span class="token string">&quot;metrics-server-auth-reader&quot;</span> deleted
Warning: apiregistration.k8s.io/v1beta1 APIService is deprecated <span class="token keyword">in</span> v1.19+, unavailable <span class="token keyword">in</span> v1.22+<span class="token punctuation">;</span> use apiregistration.k8s.io/v1 APIService
apiservice.apiregistration.k8s.io <span class="token string">&quot;v1beta1.metrics.k8s.io&quot;</span> deleted
serviceaccount <span class="token string">&quot;metrics-server&quot;</span> deleted
deployment.apps <span class="token string">&quot;metrics-server&quot;</span> deleted
<span class="token function">service</span> <span class="token string">&quot;metrics-server&quot;</span> deleted
clusterrole.rbac.authorization.k8s.io <span class="token string">&quot;system:metrics-server&quot;</span> deleted
clusterrolebinding.rbac.authorization.k8s.io <span class="token string">&quot;system:metrics-server&quot;</span> deleted
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ£€æŸ¥ç›‘æ§èµ„æºæ˜¯å¦æ­£å¸¸è¿è¡Œ</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl top nodes</span>
NAME     CPU<span class="token punctuation">(</span>cores<span class="token punctuation">)</span>   CPU%   MEMORY<span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>   MEMORY%   
master   182m         <span class="token number">4</span>%     2166Mi          <span class="token number">28</span>%       
<span class="token function">node</span>     76m          <span class="token number">1</span>%     1818Mi          <span class="token number">23</span>%    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hpaçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#hpaçš„ä½¿ç”¨" aria-hidden="true">#</a> HPAçš„ä½¿ç”¨</h3><ul><li>åˆ›å»ºâ¼€ä¸ª Deployment ç®¡ç†çš„ Nginx Podï¼Œç„¶ååˆ©â½¤ HPA æ¥è¿›â¾â¾ƒåŠ¨æ‰©ç¼©å®¹ã€‚</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat deployment.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">revisionHistoryLimit</span><span class="token punctuation">:</span> <span class="token number">15</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹deploymentå’Œpod</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get deployments.apps </span>
NAME                   READY   UP-TO-DATE   AVAILABLE   AGE
hpa-nginx-deployment   <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           3m58s

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get pods </span>
NAME                                    READY   STATUS    RESTARTS   AGE
hpa-nginx-deployment-7d546c5c67-qdkhm   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          4m2s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»ºä¸€ä¸ªHPAï¼Œç”¨kubectl autoscaæ¥åˆ›å»º</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl autoscale deployment hpa-nginx-deployment --max=10 --min=1 --cpu-percent=50 --dry-run -o yaml &gt;&gt; hpa.yaml </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat hpa.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> autoscaling/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> HorizontalPodAutoscaler
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">maxReplicas</span><span class="token punctuation">:</span> <span class="token number">10</span>		<span class="token comment">#æœ€å¤§ä¼¸ç¼©å‰¯æœ¬åˆ°10</span>
  <span class="token key atrule">minReplicas</span><span class="token punctuation">:</span> <span class="token number">1</span>		<span class="token comment">#æœ€å°ä¼¸ç¼©å‰¯æœ¬åˆ°1</span>
  <span class="token key atrule">scaleTargetRef</span><span class="token punctuation">:</span>		<span class="token comment">#ä¼¸ç¼©å‰¯æœ¬çš„æ¥æºï¼Œèµ„æºç±»å‹ï¼ŒRCï¼ŒRSï¼ŒDeployment</span>
    <span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
    <span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
    <span class="token key atrule">name</span><span class="token punctuation">:</span> hpa<span class="token punctuation">-</span>nginx<span class="token punctuation">-</span>deployment
  <span class="token key atrule">targetCPUUtilizationPercentage</span><span class="token punctuation">:</span> <span class="token number">50</span>		<span class="token comment">#è§¦å‘ä¼¸ç¼©çš„cpuä½¿â½¤ç‡</span>
<span class="token key atrule">status</span><span class="token punctuation">:</span>
  <span class="token key atrule">currentCPUUtilizationPercentage</span><span class="token punctuation">:</span> <span class="token number">48</span> 		<span class="token comment">#å½“å‰èµ„æºä¸‹podçš„cpuä½¿â½¤ç‡</span>
  <span class="token key atrule">currentReplicas</span><span class="token punctuation">:</span> <span class="token number">1</span> 						<span class="token comment">#å½“å‰çš„å‰¯æœ¬æ•°</span>
  <span class="token key atrule">desiredReplicas</span><span class="token punctuation">:</span> <span class="token number">2</span> 						<span class="token comment">#æœŸæœ›çš„å‰¯æœ¬æ•°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹hpaçš„åˆ›å»ºæ˜¯å¦æ­£ç¡®</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f hpa.yaml  </span>
horizontalpodautoscaler.autoscaling/hpa-nginx-deployment configured

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get hpa</span>
NAME                   REFERENCE                         TARGETS         MINPODS   MAXPODS   REPLICAS   AGE
frontend-scaler        ReplicaSet/frontend               <span class="token operator">&lt;</span>unknown<span class="token operator">&gt;</span>/50%   <span class="token number">3</span>         <span class="token number">10</span>        <span class="token number">0</span>          125m
hpa-nginx-deployment   Deployment/hpa-nginx-deployment   <span class="token operator">&lt;</span>unknown<span class="token operator">&gt;</span>/50%   <span class="token number">1</span>         <span class="token number">10</span>        <span class="token number">1</span>          93s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½" aria-hidden="true">#</a> æ¨¡æ‹Ÿå¢åŠ è´Ÿè½½</h3><ul><li>æ‰“å¼€ä¸€ä¸ªæ–°çš„Terminalï¼Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„pod <code>load-generator</code>ï¼Œå¹¶åœ¨è¯¥podä¸­å‘<code>php-apache</code>æœåŠ¡å‘èµ·ä¸é—´æ–­å¾ªç¯è¯·æ±‚ï¼Œæ¨¡æ‹Ÿå¢åŠ <code>php-apache</code>çš„è´Ÿè½½ï¼ˆCPUä½¿ç”¨ç‡ï¼‰ã€‚</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl run -i --tty load-generator --rm --image=busybox --restart=Never -- /bin/sh </span>
<span class="token comment">#/  while sleep 0.01; do wget -q -O- http://10.244.167.145; done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¨¡æ‹Ÿå‹åŠ›æµ‹è¯•å‡ åˆ†é’Ÿåï¼Œè§‚å¯ŸHPAï¼š</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get hpa php-apache</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>HPAæƒ…å†µç±»ä¼¼ï¼š</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>NAME         REFERENCE               TARGETS    MINPODS   MAXPODS   REPLICAS   AGE
php-apache   Deployment/php-apache   <span class="token number">250</span>%/50%   <span class="token number">1</span>         <span class="token number">10</span>        <span class="token number">5</span>          4m45s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å¯ä»¥çœ‹åˆ°TARGETSï¼ˆCPUä½¿ç”¨ç‡ï¼‰çš„acutalå€¼å·²å‡é«˜åˆ°250% (è¶…è¿‡äº†æœŸæœ›å€¼50%)ï¼Œå‰¯æœ¬æ•°REPLICASä¹Ÿä»1è‡ªåŠ¨æ‰©å®¹åˆ°äº†5ã€‚</p></li><li><p>æ³¨æ„ï¼šå¦‚æœKubernetesé›†ç¾¤workerèŠ‚ç‚¹çš„CPUèµ„æºå·²ç»ä¸è¶³ï¼ŒHPAè‡ªåŠ¨æ‰©å®¹ä¼šå¤±è´¥ï¼Œæ–°æ‰©å®¹çš„podä¼šä¸€ç›´å¤„åœ¨PendingçŠ¶æ€ã€‚é€šè¿‡kubectl describeå‘½ä»¤æŸ¥çœ‹podè¯¦ç»†ä¿¡æ¯æ—¶ï¼Œä¼šçœ‹åˆ°â€œInsufficient cpu&quot;çš„é”™è¯¯ä¿¡æ¯ã€‚</p></li></ul><h2 id="job-å’Œ-cronjob" tabindex="-1"><a class="header-anchor" href="#job-å’Œ-cronjob" aria-hidden="true">#</a> Job å’Œ Cronjob</h2><ul><li><strong>å¦å¤–â¼€ç±»èµ„æºå¯¹è±¡ï¼šJobï¼Œæˆ‘ä»¬åœ¨â½‡å¸¸çš„â¼¯ä½œä¸­ç»å¸¸éƒ½ ä¼šé‡åˆ°â¼€äº›éœ€è¦è¿›â¾æ‰¹é‡æ•°æ®å¤„ç†å’Œåˆ†æçš„éœ€æ±‚ï¼Œå½“ç„¶ä¹Ÿä¼šæœ‰æŒ‰æ—¶é—´æ¥è¿›â¾è°ƒåº¦çš„â¼¯ä½œï¼Œåœ¨æˆ‘ä»¬ çš„ Kubernetes é›†ç¾¤ä¸­ä¸ºæˆ‘ä»¬æä¾›äº† Job å’Œ CronJob ä¸¤ç§èµ„æºå¯¹è±¡æ¥åº”å¯¹æˆ‘ä»¬çš„è¿™ç§éœ€æ±‚ã€‚</strong></li><li><strong>Job è´Ÿè´£å¤„ç†ä»»åŠ¡ï¼Œå³ä»…æ‰§â¾â¼€æ¬¡çš„ä»»åŠ¡ï¼Œå®ƒä¿è¯æ‰¹å¤„ç†ä»»åŠ¡çš„â¼€ä¸ªæˆ–å¤šä¸ª Pod æˆåŠŸç»“æŸã€‚ â½½ CronJob åˆ™å°±æ˜¯åœ¨ Job ä¸ŠåŠ ä¸Šäº†æ—¶é—´è°ƒåº¦ã€‚</strong></li></ul><h3 id="jobçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#jobçš„ä½¿ç”¨" aria-hidden="true">#</a> Jobçš„ä½¿ç”¨</h3><ul><li><p>æˆ‘ä»¬â½¤ Job è¿™ä¸ªèµ„æºå¯¹è±¡æ¥åˆ›å»ºâ¼€ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å®šâ¼€ä¸ª Job æ¥æ‰§â¾â¼€ä¸ªå€’è®¡æ—¶çš„ä»»åŠ¡ï¼Œå®šä¹‰ YAML â½‚ ä»¶ï¼š</p></li><li><p>æ³¨æ„ Job çš„ <code>RestartPolicy ä»…â½€æŒ Never å’Œ OnFailure ä¸¤ç§</code>ï¼Œä¸â½€æŒ Always ï¼Œæˆ‘ä»¬çŸ¥é“ Job å°±ç›¸ å½“äºæ¥æ‰§â¾â¼€ä¸ªæ‰¹å¤„ç†ä»»åŠ¡ï¼Œæ‰§â¾å®Œå°±ç»“æŸäº†ï¼Œå¦‚æœâ½€æŒ Always çš„è¯å°±é™·â¼Šäº†æ­»å¾ªç¯äº†</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl create job job-demo --image=busybox --dry-run -o yaml &gt; job.yaml </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat job.yaml  </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> batch/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Job
<span class="token key atrule">metadata</span><span class="token punctuation">:</span> 
  <span class="token key atrule">name</span><span class="token punctuation">:</span> job<span class="token punctuation">-</span>demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
        <span class="token key atrule">name</span><span class="token punctuation">:</span> job<span class="token punctuation">-</span>demo
        <span class="token key atrule">command</span><span class="token punctuation">:</span>  
        <span class="token punctuation">-</span> <span class="token string">&quot;/bin/sh&quot;</span> 
        <span class="token punctuation">-</span> <span class="token string">&quot;-c&quot;</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i; done&quot;</span>
      <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Never
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç„¶åæ¥åˆ›å»ºè¯¥ Job</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f job.yaml  </span>
job.batch/job-demo created.

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get job </span>
NAME       COMPLETIONS   DURATION   AGE
job-demo   <span class="token number">1</span>/1           17s        2m54s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„æŸ¥çœ‹æˆ‘ä»¬çš„ Pod çš„çŠ¶æ€ï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡ kubectl logs æ¥æŸ¥çœ‹å½“å‰ä»»åŠ¡çš„æ‰§â¾ç»“æœã€‚</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl logs job-demo-ntxgx job-demo </span>
<span class="token number">9</span>
<span class="token number">8</span>
<span class="token number">7</span>
<span class="token number">6</span>
<span class="token number">5</span>
<span class="token number">4</span>
<span class="token number">3</span>
<span class="token number">2</span>
<span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cronjobçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#cronjobçš„ä½¿ç”¨" aria-hidden="true">#</a> CronJobçš„ä½¿ç”¨</h3><ul><li><p>CronJob å…¶å®å°±æ˜¯åœ¨ Job çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†æ—¶é—´è°ƒåº¦ï¼Œæˆ‘ä»¬å¯ä»¥ï¼šåœ¨ç»™å®šçš„æ—¶é—´ç‚¹è¿â¾â¼€ä¸ªä»»åŠ¡ï¼Œä¹Ÿå¯ ä»¥å‘¨æœŸæ€§åœ°åœ¨ç»™å®šæ—¶é—´ç‚¹è¿â¾ã€‚è¿™ä¸ªå®é™…ä¸Šå’Œæˆ‘ä»¬ Linux ä¸­çš„ crontab å°±â¾®å¸¸ç±»ä¼¼äº†ã€‚</p></li><li><p>â¼€ä¸ª CronJob å¯¹è±¡å…¶å®å°±å¯¹åº”ä¸­ crontab â½‚ä»¶ä¸­çš„â¼€â¾ï¼Œå®ƒæ ¹æ®é…ç½®çš„æ—¶é—´æ ¼å¼å‘¨æœŸæ€§åœ°è¿â¾â¼€ ä¸ª Job ï¼Œæ ¼å¼å’Œ crontab ä¹Ÿæ˜¯â¼€æ ·çš„ã€‚</p></li><li><p><code>crontab çš„æ ¼å¼å¦‚ä¸‹ï¼š åˆ† æ—¶ â½‡ â½‰ æ˜ŸæœŸ è¦è¿â¾çš„å‘½ä»¤ ç¬¬1åˆ—åˆ†é’Ÿ0ï½59 ç¬¬2åˆ—â¼©æ—¶0ï½23ï¼‰ ç¬¬3åˆ—â½‡1ï½31 ç¬¬4åˆ—â½‰1ï½ 12 ç¬¬5åˆ—æ˜ŸæœŸ0ï½7ï¼ˆ0å’Œ7è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰ ç¬¬6åˆ—è¦è¿â¾çš„å‘½ä»¤</code></p></li></ul><h3 id="cron-æ—¶é—´è¡¨è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#cron-æ—¶é—´è¡¨è¯­æ³•" aria-hidden="true">#</a> Cron æ—¶é—´è¡¨è¯­æ³•</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶åŒº (å¯é€‰)</span>
<span class="token comment">#      |      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0 - 59)</span>
<span class="token comment">#      |      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0 - 23)</span>
<span class="token comment">#      |      â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆçš„æŸå¤© (1 - 31)</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ month (1 - 12)</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‘¨çš„æŸå¤© (0 - 6)ï¼ˆå‘¨æ—¥åˆ°å‘¨ä¸€ï¼›åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œ7 ä¹Ÿæ˜¯æ˜ŸæœŸæ—¥ï¼‰</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”‚                                </span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”‚</span>
<span class="token comment">#      |      â”‚ â”‚ â”‚ â”‚ â”‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># CRON_TZ=UTC * * * * *</span>
<span class="token comment"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0 - 59)</span>
<span class="token comment"># â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0 - 23)</span>
<span class="token comment"># â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆçš„æŸå¤© (1 - 31)</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆä»½ (1 - 12)</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‘¨çš„æŸå¤© (0 - 6) ï¼ˆå‘¨æ—¥åˆ°å‘¨ä¸€ï¼›åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œ7 ä¹Ÿæ˜¯æ˜ŸæœŸæ—¥ï¼‰</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”‚                                   </span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”‚</span>
<span class="token comment"># â”‚ â”‚ â”‚ â”‚ â”‚</span>
<span class="token comment"># * * * * *</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç°åœ¨ï¼Œæˆ‘ä»¬â½¤ CronJob æ¥ç®¡ç†æˆ‘ä»¬ä¸Šâ¾¯çš„ Job ä»»åŠ¡</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl create cronjob cronjob-demo --image=busybox   --schedule &quot;*/1 * * * *&quot;  --dry-run -o yaml &gt; cronjob.yaml </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># cat cronjob1.yaml </span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> batch/v1beta1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> CronJob
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> cronjob<span class="token punctuation">-</span>demo1
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">jobTemplate</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> cronjob<span class="token punctuation">-</span>demo1
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">template</span><span class="token punctuation">:</span>
        <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
        <span class="token key atrule">spec</span><span class="token punctuation">:</span>
          <span class="token key atrule">containers</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> busybox
            <span class="token key atrule">name</span><span class="token punctuation">:</span> cronjob<span class="token punctuation">-</span>demo1
            <span class="token key atrule">args</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token string">&quot;bin/sh&quot;</span>
            <span class="token punctuation">-</span> <span class="token string">&quot;-c&quot;</span>
            <span class="token punctuation">-</span> <span class="token string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i; done&quot;</span>
          <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> OnFailure
  <span class="token key atrule">schedule</span><span class="token punctuation">:</span> <span class="token string">&#39;*/1 * * * *&#39;</span>
  
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl apply -f cronjob1.yaml </span>
cronjob.batch/cronjob<span class="token punctuation">-</span>demo1 created
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>è¿™â¾¥çš„ Kind æ˜¯ CronJob äº†ï¼Œè¦æ³¨æ„çš„æ˜¯ .spec.schedule å­—æ®µæ˜¯å¿…é¡»å¡«å†™çš„ï¼Œâ½¤æ¥æŒ‡å®šä»»åŠ¡è¿â¾ çš„å‘¨æœŸï¼Œæ ¼å¼å°±å’Œ <code>crontab</code> â¼€æ ·ï¼Œå¦å¤–â¼€ä¸ªå­—æ®µæ˜¯ <code>.spec.jobTemplate</code> , â½¤æ¥æŒ‡å®šéœ€è¦è¿â¾çš„ä»»åŠ¡ï¼Œæ ¼ å¼å½“ç„¶å’Œ Job æ˜¯â¼€è‡´çš„</p></li><li><p>æ®µ <code>.spec.successfulJobsHistoryLimit</code> å’Œ <code>.spec.failedJobsHistoryLimit</code> ï¼Œè¡¨ç¤ºå†å²é™åˆ¶ï¼Œæ˜¯å¯é€‰çš„ å­—æ®µã€‚å®ƒä»¬æŒ‡å®šäº†å¯ä»¥ä¿ç•™å¤šå°‘å®Œæˆå’Œå¤±è´¥çš„ Job ï¼Œé»˜è®¤æ²¡æœ‰é™åˆ¶ï¼Œæ‰€æœ‰æˆåŠŸå’Œå¤±è´¥çš„ Job éƒ½ä¼šè¢«ä¿ ç•™ã€‚ç„¶â½½ï¼Œå½“è¿â¾â¼€ä¸ª Cron Job æ—¶ï¼Œ Job å¯ä»¥å¾ˆå¿«å°±å †ç§¯å¾ˆå¤šï¼Œæ‰€ä»¥â¼€èˆ¬æ¨èè®¾ç½®è¿™ä¸¤ä¸ªå­—æ®µçš„ å€¼ã€‚å¦‚æœè®¾ç½®é™åˆ¶çš„å€¼ä¸º 0ï¼Œé‚£ä¹ˆç›¸å…³ç±»å‹çš„ Job å®Œæˆåå°†ä¸ä¼šè¢«ä¿ç•™ã€‚</p></li><li><p>æŸ¥çœ‹å½“å‰çš„cronjob</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get cronjobs.batch </span>
NAME            SCHEDULE      SUSPEND   ACTIVE   LAST SCHEDULE   AGE
cronjob-demo1   */1 * * * *   False     <span class="token number">1</span>        11s             11m

<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get jobs </span>
NAME                       COMPLETIONS   DURATION   AGE
cronjob-demo1-1636527840   <span class="token number">1</span>/1           17s        3m
cronjob-demo1-1636527900   <span class="token number">1</span>/1           17s        2m
cronjob-demo1-1636527960   <span class="token number">1</span>/1           17s        60s
job-demo                   <span class="token number">1</span>/1           17s        49m
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¹Ÿå¯ä»¥â½¤ kubectl runæ¥åˆ›å»ºâ¼€ä¸ªCronJobï¼š</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl run hello --schedule=&quot;*/1 * * * *&quot; --restart=OnFailure --image=busybox -- /bin/sh -c &quot;date; echo Hello from the Kubernetes cluster&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è¿™å°†ä¼šç»ˆâ½Œæ­£åœ¨åˆ›å»ºçš„ Jobã€‚ç„¶â½½ï¼Œè¿â¾ä¸­çš„ Job å°†ä¸ä¼šè¢«ç»ˆâ½Œï¼Œä¸ä¼šåˆ é™¤ Job æˆ– å®ƒä»¬çš„ Podã€‚ä¸ºäº† æ¸…ç†é‚£äº› Job å’Œ Podï¼Œéœ€è¦åˆ—å‡ºè¯¥ Cron Job åˆ›å»ºçš„å…¨éƒ¨ Jobï¼Œç„¶ååˆ é™¤å®ƒä»¬ï¼š</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get job </span>
NAME                       COMPLETIONS   DURATION   AGE
cronjob-demo1-1636528440   <span class="token number">1</span>/1           16s        3m
cronjob-demo1-1636528500   <span class="token number">1</span>/1           17s        2m
cronjob-demo1-1636528560   <span class="token number">1</span>/1           18s        60s
job-demo                   <span class="token number">1</span>/1           17s        59m
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl get jobs </span>
NAME                       COMPLETIONS   DURATION   AGE
cronjob-demo1-1636528500   <span class="token number">1</span>/1           17s        2m45s
cronjob-demo1-1636528560   <span class="token number">1</span>/1           18s        105s
cronjob-demo1-1636528620   <span class="token number">1</span>/1           17s        45s
job-demo                   <span class="token number">1</span>/1           17s        60m
<span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment"># kubectl delete cronjob --all</span>
cronjob.batch <span class="token string">&quot;cronjob-demo1&quot;</span> deleted
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/theme-docs/src/zh/isKcount/2/CKA/06.Kubernetesåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸç®¡ç†.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: admin@example.com">Administrator</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2022 isKcount</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/cicd/assets/app.4cf02e25.js" defer></script>
  </body>
</html>
